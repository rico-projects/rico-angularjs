!function i(a,u,c){function l(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,i,a,u,c)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){"use strict";var r,o,oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r="undefined"!=typeof self?self:void 0,o=function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=108)}([function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r,o=n(62),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,l=o(n(128)),s=o(n(129)),d=o(n(133));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return null!=e}t.exists=i,t.checkMethod=function(e){r=e},t.checkParam=function(e,t){if(!i(e))throw new Error("The parameter "+t+" is mandatory in "+r)},t.parseUrl=function(e){var t=e.match(/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/),n=void 0;t[4]&&1<t[4].length&&(n=t[4].substring(0,t[4].length-1));var r=t[13],o=void 0;if(t[16]&&1<t[16].length){var i=(o=t[16].substring(1,t[16].length)).split("&");o=i.reduce(function(e,t){var n=t.split("="),r=(0,d.default)(n,2),o=r[0],i=r[1];return(0,s.default)(e,(0,l.default)({},o,i))},{})}var a=void 0;t[17]&&1<t[17].length&&(a=t[17].substring(1,t[17].length));var u=t[11],c=t[12];u&&!c&&"http"===n?c=80:u&&!c&&"https"===n&&(c=443);u||c||n||(window&&window.location&&window.location.hostname&&(u=window.location.hostname),window&&window.location&&window.location.port&&(c=window.location.port),window&&window.location&&window.location.protocol&&(n=window.location.protocol.substring(0,window.location.protocol.length-1)),0===r.indexOf(".")&&(r=r.substring(1,r.length)));c&&(c=parseInt(c));return{scheme:n,user:t[8],password:t[9],hostname:u,port:c,path:r,query:o,fragment:a}}},function(e,t){var n=e.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var m=n(7),_=n(3),y=n(13),g=n(15),E=n(17),C="prototype",r=function e(t,n,r){var o,i,a,u=t&e.F,c=t&e.G,l=t&e.S,s=t&e.P,d=t&e.B,f=t&e.W,h=c?_:_[n]||(_[n]={}),v=h[C],p=c?m:l?m[n]:(m[n]||{})[C];for(o in c&&(r=n),r)(i=!u&&p&&void 0!==p[o])&&E(h,o)||(a=i?p[o]:r[o],h[o]=c&&"function"!=typeof p[o]?r[o]:d&&i?y(a,m):f&&p[o]==a?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[C]=r[C],e}(a):s&&"function"==typeof a?y(Function.call,a):a,s&&((h.virtual||(h.virtual={}))[o]=a,t&e.R&&v&&!v[o]&&g(v,o,a)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerFactory=t.LogLevel=void 0;var r=n(64),o=n(111);t.LogLevel=r.LogLevel,t.LoggerFactory=o.LoggerFactory},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID="AttributeMetadataChanged",t.CALL_ACTION_COMMAND_ID="CallAction",t.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID="ChangeAttributeMetadata",t.CREATE_CONTEXT_COMMAND_ID="CreateContext",t.CREATE_CONTROLLER_COMMAND_ID="CreateController",t.CREATE_PRESENTATION_MODEL_COMMAND_ID="CreatePresentationModel",t.DELETE_PRESENTATION_MODEL_COMMAND_ID="DeletePresentationModel",t.DESTROY_CONTEXT_COMMAND_ID="DestroyContext",t.DESTROY_CONTROLLER_COMMAND_ID="DestroyController",t.INTERRUPT_LONG_POLL_COMMAND_ID="InterruptLongPoll",t.PRESENTATION_MODEL_DELETED_COMMAND_ID="PresentationModelDeleted",t.START_LONG_POLL_COMMAND_ID="StartLongPoll",t.VALUE_CHANGED_COMMAND_ID="ValueChanged",t.ID="id",t.ATTRIBUTE_ID="a_id",t.PM_ID="p_id",t.CONTROLLER_ID="c_id",t.PM_TYPE="t",t.NAME="n",t.VALUE="v",t.PARAMS="p",t.PM_ATTRIBUTES="a"},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(49)("wks"),o=n(37),i=n(7).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(11),o=n(63),i=n(43),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"===(void 0===e?"undefined":oe(e))?null!==e:"function"==typeof e}},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(24);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.RESPONSE_TYPE={ARRAY_BUFFER:"arraybuffer",TEXT:"text",JSON:"json"},t.HTTP={METHOD:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"},STATUS:{ACCEPTED:202,BAD_GATEWAY:502,BAD_REQUEST:400,CONFLICT:409,CONTINUE:100,CREATED:201,EXPECTATION_FAILED:417,FAILED_DEPENDENCY:424,FORBIDDEN:403,GATEWAY_TIMEOUT:504,GONE:410,HTTP_VERSION_NOT_SUPPORTED:505,IM_A_TEAPOT:418,INSUFFICIENT_SPACE_ON_RESOURCE:419,INSUFFICIENT_STORAGE:507,INTERNAL_SERVER_ERROR:500,LENGTH_REQUIRED:411,LOCKED:423,METHOD_FAILURE:420,METHOD_NOT_ALLOWED:405,MOVED_PERMANENTLY:301,MOVED_TEMPORARILY:302,MULTI_STATUS:207,MULTIPLE_CHOICES:300,NETWORK_AUTHENTICATION_REQUIRED:511,NO_CONTENT:204,NON_AUTHORITATIVE_INFORMATION:203,NOT_ACCEPTABLE:406,NOT_FOUND:404,NOT_IMPLEMENTED:501,NOT_MODIFIED:304,OK:200,PARTIAL_CONTENT:206,PAYMENT_REQUIRED:402,PERMANENT_REDIRECT:308,PRECONDITION_FAILED:412,PRECONDITION_REQUIRED:428,PROCESSING:102,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_HEADER_FIELDS_TOO_LARGE:431,REQUEST_TIMEOUT:408,REQUEST_TOO_LONG:413,REQUEST_URI_TOO_LONG:414,REQUESTED_RANGE_NOT_SATISFIABLE:416,RESET_CONTENT:205,SEE_OTHER:303,SERVICE_UNAVAILABLE:503,SWITCHING_PROTOCOLS:101,TEMPORARY_REDIRECT:307,TOO_MANY_REQUESTS:429,UNAUTHORIZED:401,UNPROCESSABLE_ENTITY:422,UNSUPPORTED_MEDIA_TYPE:415,USE_PROXY:305},HEADER_NAME:{ACCEPT:"Accept",ACCEPT_CHARSET:"Accept-Charset",ACCEPT_ENCODING:"Accept-Encoding",ACCEPT_LANGUAGE:"Accept-Language",ACCEPT_DATETIME:"Accept-Datetime",AUTHORIZATION:"Authorization",CACHE_CONTROL:"Cache-Control",CONNECTION:"Connection",COOKIE:"Cookie",CONTENT_LENGTH:"Content-Length",CONTENT_MD5:"Content-MD5",CONTENT_TYPE:"Content-Type",DATE:"Date",EXPECT:"Expect",FORWARDED:"Forwarded",FROM:"From",HOST:"Host",IF_MATCH:"If-Match",IF_MODIFIED_SINCE:"If-Modified_Since",IF_NONE_MATCH:"If-None_Match",IF_RANGE:"If-Range",MAX_FORWARDS:"Max-Forwards",PRAGMA:"Pragma",PROXY_AUTHORIZATION:"Proxy-Authorization",REFERER:"Referer",TE:"TE",USER_AGENT:"User-Agent",X_CLIENT_ID:"X-Client-Id",X_CLIENT_SESSION_ID:"X-Client-Session-Id",X_PLATFORM_SECURITY_REALM:"X-platform-security-realm",X_PLATFORM_SECURITY_BEARER_ONLY:"X-platform-security-bearer-only",X_PLATFORM_SECURITY_APPLICATION:"X-platform-security-application"},CONTENT_TYPE:{APPLICATION_JSON:"application/json",APPLICATION_X_WWW_FORM_URLENCODED:"application/x-www-form-urlencoded",TEXT_HTML:"text/html",TEXT_PLAIN:"text/plain"},XMLHTTPREQUEST_READYSTATE:{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}},t.SECURITY={AUTH_ENDPOINT:"/openid-connect"}},function(e,t,n){var r=n(9),o=n(25);e.exports=n(12)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(113)(!0);n(46)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports={default:n(151),__esModule:!0}},function(e,t,n){e.exports={default:n(112),__esModule:!0}},function(e,t){e.exports={}},function(e,t,n){var r=n(47),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t,n){n(118);for(var r=n(7),o=n(15),i=n(21),a=n(8)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<u.length;c++){var l=u[c],s=r[l],d=s&&s.prototype;d&&!d[a]&&o(d,a,l),i[l]=i.Array}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!0},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9).f,o=n(17),i=n(8)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(45);e.exports=function(e){return Object(r(e))}},function(e,t,n){var f=n(13),h=n(71),v=n(72),p=n(11),m=n(36),_=n(53),y={},g={};(t=e.exports=function(e,t,n,r,o){var i,a,u,c,l=o?function(){return e}:_(e),s=f(n,r,t?2:1),d=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(v(l)){for(i=m(e.length);d<i;d++)if((c=t?s(p(a=e[d])[0],a[1]):s(e[d]))===y||c===g)return c}else for(u=l.call(e);!(a=u.next()).done;)if((c=h(u,s,a.value,t))===y||c===g)return c}).BREAK=y,t.RETURN=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceProvider=void 0;var o=r(n(0)),i=r(n(1)),a=n(2);function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){function r(e,t,n){(0,o.default)(this,r),(0,a.checkMethod)("constructor"),(0,a.checkParam)(e,"serviceClass"),(0,a.checkParam)(t,"name"),this.serviceInstance=new e(n),this.name=t}return(0,i.default)(r,[{key:"getName",value:function(){return this.name}},{key:"getService",value:function(){return this.serviceInstance}}]),r}();t.ServiceProvider=u},function(e,t,n){t.__esModule=!0;var r=a(n(174)),o=a(n(176)),i="function"==typeof o.default&&"symbol"===oe(r.default)?function(e){return void 0===e?"undefined":oe(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":oe(e)};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t){},function(e,t,r){var o=r(11),i=r(115),a=r(50),u=r(48)("IE_PROTO"),c=function(){},l="prototype",s=function(){var e,t=r(42)("iframe"),n=a.length;for(t.style.display="none",r(67).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s[l][a[n]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(c[l]=o(e),n=new c,c[l]=null,n[u]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(66),o=n(50);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(44),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var o=n(27),i=n(8)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.JS_STRING_TYPE="string",t.REMOTING_BEAN=0,t.BYTE=1,t.SHORT=2,t.INT=3,t.LONG=4,t.FLOAT=5,t.DOUBLE=6,t.BOOLEAN=7,t.STRING=8,t.DATE=9,t.ENUM=10,t.CALENDAR=11,t.LOCAL_DATE_FIELD_TYPE=55,t.LOCAL_DATE_TIME_FIELD_TYPE=52,t.ZONED_DATE_TIME_FIELD_TYPE=54,t.ADDED_TYPE="ADDED",t.REMOVED_TYPE="REMOVED"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(0)),o=y(n(1)),i=y(n(93)),a=y(n(94)),u=y(n(91)),c=y(n(98)),l=y(n(97)),s=y(n(101)),d=y(n(99)),f=y(n(95)),h=y(n(96)),v=y(n(100)),p=y(n(89)),m=y(n(92)),_=y(n(90));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"createCreateContextCommand",value:function(){return new i.default}},{key:"createCreateControllerCommand",value:function(e,t){var n=new a.default;return n.init(e,t),n}},{key:"createCallActionCommand",value:function(e,t,n){var r=new u.default;return r.init(e,t,n),r}},{key:"createDestroyControllerCommand",value:function(e){var t=new c.default;return t.init(e),t}},{key:"createDestroyContextCommand",value:function(){return new l.default}},{key:"createStartLongPollCommand",value:function(){return new s.default}},{key:"createInterruptLongPollCommand",value:function(){return new d.default}},{key:"createCreatePresentationModelCommand",value:function(e){var t=new f.default;return t.init(e),t}},{key:"createDeletePresentationModelCommand",value:function(e){var t=new h.default;return t.init(e),t}},{key:"createPresentationModelDeletedCommand",value:function(e){var t=new v.default;return t.init(e),t}},{key:"createValueChangedCommand",value:function(e,t){var n=new p.default;return n.init(e,t),n}},{key:"createChangeAttributeMetadataCommand",value:function(e,t,n){var r=new m.default;return r.init(e,t,n),r}},{key:"createAttributeMetadataChangedCommand",value:function(e,t,n){var r=new _.default;return r.init(e,t,n),r}}]),e}();t.default=g},function(e,t,n){var r=n(10),o=n(7).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var o=n(10);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var g=n(26),E=n(4),C=n(65),M=n(15),T=n(21),A=n(114),P=n(28),O=n(68),k=n(8)("iterator"),R=!([].keys&&"next"in[].keys()),L="values",N=function(){return this};e.exports=function(e,t,n,r,o,i,a){A(n,t,r);var u,c,l,s=function(e){if(!R&&e in v)return v[e];switch(e){case"keys":case L:return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f=o==L,h=!1,v=e.prototype,p=v[k]||v["@@iterator"]||o&&v[o],m=p||s(o),_=o?f?s("entries"):m:void 0,y="Array"==t&&v.entries||p;if(y&&(l=O(y.call(new e)))!==Object.prototype&&l.next&&(P(l,d,!0),g||"function"==typeof l[k]||M(l,k,N)),f&&p&&p.name!==L&&(h=!0,m=function(){return p.call(this)}),g&&!a||!R&&!h&&v[k]||M(v,k,m),T[t]=m,T[d]=N,o)if(u={values:f?m:s(L),keys:i?m:s("keys"),entries:_},a)for(c in u)c in v||C(v,c,u[c]);else E(E.P+E.F*(R||h),t,u);return u}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(49)("keys"),o=n(37);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(3),o=n(7),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(26)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(15);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:o(e,r,t[r]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(38),o=n(8)("iterator"),i=n(21);e.exports=n(3).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(37)("meta"),o=n(10),i=n(17),a=n(9).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(16)(function(){return c(Object.preventExtensions({}))}),s=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==(void 0===e?"undefined":oe(e))?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";s(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;s(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&s(e),e}}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(24);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){e.exports={default:n(161),__esModule:!0}},function(e,t,n){t.f=n(8)},function(e,t,n){var r=n(7),o=n(3),i=n(26),a=n(59),u=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e),this.eventHandlers=[]}return(0,o.default)(e,[{key:"onEvent",value:function(e){this.eventHandlers.push(e)}},{key:"trigger",value:function(t){this.eventHandlers.forEach(function(e){return e(t)})}}]),e}();t.default=a},function(e,t,n){e.exports={default:n(109),__esModule:!0}},function(e,t,n){e.exports=!n(12)&&!n(16)(function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.LogLevel={NONE:{name:"NONE",text:"[NONE ]",level:0},ALL:{name:"ALL",text:"[ALL  ]",level:100},TRACE:{name:"TRACE",text:"[TRACE]",level:5},DEBUG:{name:"DEBUG",text:"[DEBUG]",level:4},INFO:{name:"INFO",text:"[INFO ]",level:3},WARN:{name:"WARN",text:"[WARN ]",level:2},ERROR:{name:"ERROR",text:"[ERROR]",level:1}}},function(e,t,n){e.exports=n(15)},function(e,t,n){var a=n(17),u=n(22),c=n(116)(!1),l=n(48)("IE_PROTO");e.exports=function(e,t){var n,r=u(e),o=0,i=[];for(n in r)n!=l&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~c(i,n)||i.push(n));return i}},function(e,t,n){var r=n(7).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(17),o=n(29),i=n(48)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var a=n(9).f,u=n(34),c=n(51),l=n(13),s=n(52),d=n(30),r=n(46),o=n(69),i=n(73),f=n(12),h=n(54).fastKey,v=n(55),p=f?"_s":"size",m=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,i,n,r){var o=e(function(e,t){s(e,o,i,"_i"),e._t=i,e._i=u(null),e._f=void 0,e._l=void 0,e[p]=0,null!=t&&d(t,n,e[r],e)});return c(o.prototype,{clear:function(){for(var e=v(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var t=v(this,i),n=m(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[p]--}return!!n},forEach:function(e){v(this,i);for(var t,n=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!m(v(this,i),e)}}),f&&a(o.prototype,"size",{get:function(){return v(this,i)[p]}}),o},def:function(e,t,n){var r,o,i=m(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[p]++,"F"!==o&&(e._i[o]=i)),e},getEntry:m,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=v(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?o(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),i(n)}}},function(e,t,n){var i=n(11);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(e,t,n){var r=n(21),o=n(8)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(7),o=n(3),i=n(9),a=n(12),u=n(8)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var d=n(7),f=n(4),h=n(54),v=n(16),p=n(15),m=n(51),_=n(30),y=n(52),g=n(10),E=n(28),C=n(9).f,M=n(121)(0),T=n(12);e.exports=function(n,e,t,r,o,i){var a=d[n],u=a,c=o?"set":"add",l=u&&u.prototype,s={};return T&&"function"==typeof u&&(i||l.forEach&&!v(function(){(new u).entries().next()}))?(u=e(function(e,t){y(e,u,n,"_c"),e._c=new a,null!=t&&_(t,o,e[c],e)}),M("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(r){var o="add"==r||"set"==r;r in l&&(!i||"clear"!=r)&&p(u.prototype,r,function(e,t){if(y(this,u,r),!o&&i&&!g(e))return"get"==r&&void 0;var n=this._c[r](0===e?0:e,t);return o?this:n})}),i||C(u.prototype,"size",{get:function(){return this._c.size}})):(u=r.getConstructor(e,n,o,c),m(u.prototype,t),h.NEED=!0),E(u,n),s[n]=u,f(f.G+f.W+f.F,s),i||r.setStrong(u,n,o),u}},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(38),o=n(125);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(4);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){var r=n(4),a=n(24),u=n(13),c=n(30);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,o,i=arguments[1];return a(this),(t=void 0!==i)&&a(i),null==e?new this:(n=[],t?(r=0,o=u(i,arguments[2],2),c(e,!1,function(e){n.push(o(e,r++))})):c(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(142),__esModule:!0}},function(e,t,n){var i=n(8)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){var o=n(11),i=n(24),a=n(8)("species");e.exports=function(e,t){var n,r=o(e).constructor;return void 0===r||null==(n=o(r)[a])?t:i(n)}},function(e,t,n){var r,o,i,a=n(13),u=n(153),c=n(67),l=n(42),s=n(7),d=s.process,f=s.setImmediate,h=s.clearImmediate,v=s.MessageChannel,p=s.Dispatch,m=0,_={},y="onreadystatechange",g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},E=function(e){g.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++m]=function(){u("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete _[e]},"process"==n(27)(d)?r=function(e){d.nextTick(a(g,e,1))}:p&&p.now?r=function(e){p.now(a(g,e,1))}:v?(i=(o=new v).port2,o.port1.onmessage=E,r=a(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(r=function(e){s.postMessage(e+"","*")},s.addEventListener("message",E,!1)):r=y in l("script")?function(e){c.appendChild(l("script"))[y]=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:f,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(11),o=n(10),i=n(57);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClientContextFactory=t.createClientContext=void 0;var s=a(n(168)),r=a(n(0)),o=a(n(1)),d=n(171),f=n(2),i=n(5),h=a(n(106)),v=a(n(201)),p=a(n(202)),m=a(n(203)),_=a(n(205)),y=a(n(206));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function l(e){(0,r.default)(this,l),!(this.client=e)&&l.legecyClientSupport&&(l.LOGGER.warn("Legecy support used."),this.client=l.legecyClientSupport)}return(0,o.default)(l,[{key:"create",value:function(e,t){(0,f.checkMethod)("connect(url, config)"),(0,f.checkParam)(e,"url"),l.LOGGER.debug("Creating client context",e,t);var n=new y.default(e,t,this.client);n.on("error",function(e){c.emit("error",e)});var r=d.dolphinBuilder.withTransmitter(n).withSlackMS(4).withMaxBatchSize(s.default).build(),o=new p.default(r),i=new v.default(o),a=new h.default(e,r,o,t),u=new m.default(r,o,a),c=new _.default(r,i,u,a);return l.LOGGER.debug("clientContext created with",c),c}}]),l}();u.LOGGER=i.LoggerFactory.getLogger("ClientContextFactory"),u.legecyClientSupport=!1;t.createClientContext=function(e){return new u(e).create},t.ClientContextFactory=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(32)),o=A(n(183)),i=A(n(0)),a=A(n(1)),u=n(2),c=n(40),l=n(6),s=A(n(89)),d=A(n(90)),f=A(n(91)),h=A(n(92)),v=A(n(93)),p=A(n(94)),m=A(n(95)),_=A(n(96)),y=A(n(97)),g=A(n(98)),E=A(n(99)),C=A(n(100)),M=A(n(101)),T=A(n(185));function A(e){return e&&e.__esModule?e:{default:e}}var P=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"_encodeAttributeMetadataChangedCommand",value:function(e){(0,u.checkMethod)("Codec.encodeAttributeMetadataChangedCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.attributeId,"command.attributeId"),(0,u.checkParam)(e.metadataName,"command.metadataName");var t={};return t[l.ID]=l.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID,t[l.ATTRIBUTE_ID]=e.attributeId,t[l.NAME]=e.metadataName,t[l.VALUE]=e.value,t}},{key:"_decodeAttributeMetadataChangedCommand",value:function(e){(0,u.checkMethod)("Codec.decodeAttributeMetadataChangedCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]"),(0,u.checkParam)(e[l.NAME],"jsonCommand[NAME]");var t=new d.default;return t.attributeId=e[l.ATTRIBUTE_ID],t.metadataName=e[l.NAME],t.value=e[l.VALUE],t}},{key:"_encodeCallActionCommand",value:function(e){(0,u.checkMethod)("Codec.encodeCallActionCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.controllerid,"command.controllerid"),(0,u.checkParam)(e.actionName,"command.actionName"),(0,u.checkParam)(e.params,"command.params");var t={};return t[l.ID]=l.CALL_ACTION_COMMAND_ID,t[l.CONTROLLER_ID]=e.controllerid,t[l.NAME]=e.actionName,t[l.PARAMS]=e.params.map(function(e){var t={};return t[l.NAME]=e.name,(0,u.exists)(e.value)&&(t[l.VALUE]=e.value),t}),t}},{key:"_decodeCallActionCommand",value:function(e){(0,u.checkMethod)("Codec.decodeCallActionCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]"),(0,u.checkParam)(e[l.NAME],"jsonCommand[NAME]"),(0,u.checkParam)(e[l.PARAMS],"jsonCommand[PARAMS]");var t=new f.default;return t.controllerid=e[l.CONTROLLER_ID],t.actionName=e[l.NAME],t.params=e[l.PARAMS].map(function(e){return{name:e[l.NAME],value:(0,u.exists)(e[l.VALUE])?e[l.VALUE]:null}}),t}},{key:"_encodeChangeAttributeMetadataCommand",value:function(e){(0,u.checkMethod)("Codec.encodeChangeAttributeMetadataCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.attributeId,"command.attributeId"),(0,u.checkParam)(e.metadataName,"command.metadataName");var t={};return t[l.ID]=l.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID,t[l.ATTRIBUTE_ID]=e.attributeId,t[l.NAME]=e.metadataName,t[l.VALUE]=e.value,t}},{key:"_decodeChangeAttributeMetadataCommand",value:function(e){(0,u.checkMethod)("Codec.decodeChangeAttributeMetadataCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]"),(0,u.checkParam)(e[l.NAME],"jsonCommand[NAME]");var t=new h.default;return t.attributeId=e[l.ATTRIBUTE_ID],t.metadataName=e[l.NAME],t.value=e[l.VALUE],t}},{key:"_encodeCreateContextCommand",value:function(e){(0,u.checkMethod)("Codec.encodeCreateContextCommand"),(0,u.checkParam)(e,"command");var t={};return t[l.ID]=l.CREATE_CONTEXT_COMMAND_ID,t}},{key:"_decodeCreateContextCommand",value:function(e){return(0,u.checkMethod)("Codec.decodeCreateContextCommand"),(0,u.checkParam)(e,"jsonCommand"),new v.default}},{key:"_encodeCreateControllerCommand",value:function(e){(0,u.checkMethod)("Codec._encodeCreateControllerCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.controllerName,"command.controllerName");var t={};return t[l.ID]=l.CREATE_CONTROLLER_COMMAND_ID,t[l.NAME]=e.controllerName,t[l.CONTROLLER_ID]=e.parentControllerId,t}},{key:"_decodeCreateControllerCommand",value:function(e){(0,u.checkMethod)("Codec._decodeCreateControllerCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.NAME],"jsonCommand[NAME]"),(0,u.checkParam)(e[l.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]");var t=new p.default;return t.controllerName=e[l.NAME],t.parentControllerId=e[l.CONTROLLER_ID],t}},{key:"_encodeCreatePresentationModelCommand",value:function(e){(0,u.checkMethod)("Codec.encodeCreatePresentationModelCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.pmId,"command.pmId"),(0,u.checkParam)(e.pmType,"command.pmType");var t={};return t[l.ID]=l.CREATE_PRESENTATION_MODEL_COMMAND_ID,t[l.PM_ID]=e.pmId,t[l.PM_TYPE]=e.pmType,t[l.PM_ATTRIBUTES]=e.attributes.map(function(e){var t={};return t[l.NAME]=e.propertyName,t[l.ATTRIBUTE_ID]=e.id,(0,u.exists)(e.value)&&(t[l.VALUE]=e.value),t}),t}},{key:"_decodeCreatePresentationModelCommand",value:function(e){(0,u.checkMethod)("Codec.decodeCreatePresentationModelCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.PM_ID],"jsonCommand[PM_ID]"),(0,u.checkParam)(e[l.PM_TYPE],"jsonCommand[PM_TYPE]");var t=new m.default;return t.pmId=e[l.PM_ID],t.pmType=e[l.PM_TYPE],t.attributes=e[l.PM_ATTRIBUTES].map(function(e){return{propertyName:e[l.NAME],id:e[l.ATTRIBUTE_ID],value:(0,u.exists)(e[l.VALUE])?e[l.VALUE]:null}}),t}},{key:"_encodeDeletePresentationModelCommand",value:function(e){(0,u.checkMethod)("Codec._encodeDeletePresentationModelCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.pmId,"command.pmId");var t={};return t[l.ID]=l.DELETE_PRESENTATION_MODEL_COMMAND_ID,t[l.PM_ID]=e.pmId,t}},{key:"_decodeDeletePresentationModelCommand",value:function(e){(0,u.checkMethod)("Codec._decodeDeletePresentationModelCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.PM_ID],"jsonCommand[PM_ID]");var t=new _.default;return t.pmId=e[l.PM_ID],t}},{key:"_encodeDestroyContextCommand",value:function(e){(0,u.checkMethod)("Codec._encodeDestroyContextCommand"),(0,u.checkParam)(e,"command");var t={};return t[l.ID]=l.DESTROY_CONTEXT_COMMAND_ID,t}},{key:"_decodeDestroyContextCommand",value:function(e){return(0,u.checkMethod)("Codec._decodeDestroyContextCommand"),(0,u.checkParam)(e,"jsonCommand"),new y.default}},{key:"_encodeDestroyControllerCommand",value:function(e){(0,u.checkMethod)("Codec._encodeDestroyControllerCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.controllerId,"command.controllerId");var t={};return t[l.ID]=l.DESTROY_CONTROLLER_COMMAND_ID,t[l.CONTROLLER_ID]=e.controllerId,t}},{key:"_decodeDestroyControllerCommand",value:function(e){(0,u.checkMethod)("Codec._decodeDestroyControllerCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]");var t=new g.default;return t.controllerId=e[l.CONTROLLER_ID],t}},{key:"_encodeInterruptLongPollCommand",value:function(e){(0,u.checkMethod)("Codec._encodeInterruptLongPollCommand"),(0,u.checkParam)(e,"command");var t={};return t[l.ID]=l.INTERRUPT_LONG_POLL_COMMAND_ID,t}},{key:"_decodeInterruptLongPollCommand",value:function(e){return(0,u.checkMethod)("Codec._decodeInterruptLongPollCommand"),(0,u.checkParam)(e,"jsonCommand"),new E.default}},{key:"_encodePresentationModelDeletedCommand",value:function(e){(0,u.checkMethod)("Codec._encodePresentationModelDeletedCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.pmId,"command.pmId");var t={};return t[l.ID]=l.PRESENTATION_MODEL_DELETED_COMMAND_ID,t[l.PM_ID]=e.pmId,t}},{key:"_decodePresentationModelDeletedCommand",value:function(e){(0,u.checkMethod)("Codec._decodePresentationModelDeletedCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.PM_ID],"jsonCommand[PM_ID]");var t=new C.default;return t.pmId=e[l.PM_ID],t}},{key:"_encodeStartLongPollCommand",value:function(e){(0,u.checkMethod)("Codec._encodeStartLongPollCommand"),(0,u.checkParam)(e,"command");var t={};return t[l.ID]=l.START_LONG_POLL_COMMAND_ID,t}},{key:"_decodeStartLongPollCommand",value:function(e){return(0,u.checkMethod)("Codec._decodeStartLongPollCommand"),(0,u.checkParam)(e,"jsonCommand"),new M.default}},{key:"_encodeValueChangedCommand",value:function(e){(0,u.checkMethod)("Codec.encodeValueChangedCommand"),(0,u.checkParam)(e,"command"),(0,u.checkParam)(e.attributeId,"command.attributeId");var t={};return t[l.ID]=l.VALUE_CHANGED_COMMAND_ID,t[l.ATTRIBUTE_ID]=e.attributeId,(0,u.exists)(e.newValue)&&(t[l.VALUE]=e.newValue),t}},{key:"_decodeValueChangedCommand",value:function(e){(0,u.checkMethod)("Codec.decodeValueChangedCommand"),(0,u.checkParam)(e,"jsonCommand"),(0,u.checkParam)(e[l.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]");var t=new s.default;return t.attributeId=e[l.ATTRIBUTE_ID],(0,u.exists)(e[l.VALUE])?t.newValue=e[l.VALUE]:t.newValue=null,t}},{key:"encode",value:function(e){(0,u.checkMethod)("Codec.encode"),(0,u.checkParam)(e,"commands");var t=this;return(0,o.default)(e.map(function(e){if(e.id===l.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID)return t._encodeAttributeMetadataChangedCommand(e);if(e.id===l.CALL_ACTION_COMMAND_ID)return t._encodeCallActionCommand(e);if(e.id===l.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID)return t._encodeChangeAttributeMetadataCommand(e);if(e.id===l.CREATE_CONTEXT_COMMAND_ID)return t._encodeCreateContextCommand(e);if(e.id===l.CREATE_CONTROLLER_COMMAND_ID)return t._encodeCreateControllerCommand(e);if(e.id===l.CREATE_PRESENTATION_MODEL_COMMAND_ID)return t._encodeCreatePresentationModelCommand(e);if(e.id===l.DELETE_PRESENTATION_MODEL_COMMAND_ID)return t._encodeDeletePresentationModelCommand(e);if(e.id===l.DESTROY_CONTEXT_COMMAND_ID)return t._encodeDestroyContextCommand(e);if(e.id===l.DESTROY_CONTROLLER_COMMAND_ID)return t._encodeDestroyControllerCommand(e);if(e.id===l.INTERRUPT_LONG_POLL_COMMAND_ID)return t._encodeInterruptLongPollCommand(e);if(e.id===l.PRESENTATION_MODEL_DELETED_COMMAND_ID)return t._encodePresentationModelDeletedCommand(e);if(e.id===l.START_LONG_POLL_COMMAND_ID)return t._encodeStartLongPollCommand(e);if(e.id===l.VALUE_CHANGED_COMMAND_ID)return t._encodeValueChangedCommand(e);throw new T.default("Command of type "+e.id+" can not be handled")}))}},{key:"decode",value:function(e){if((0,u.checkMethod)("Codec.decode"),(0,u.checkParam)(e,"transmitted"),(void 0===e?"undefined":(0,r.default)(e))===c.JS_STRING_TYPE){var t=this;return JSON.parse(e).map(function(e){if(e.id===l.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID)return t._decodeAttributeMetadataChangedCommand(e);if(e.id===l.CALL_ACTION_COMMAND_ID)return t._decodeCallActionCommand(e);if(e.id===l.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID)return t._decodeChangeAttributeMetadataCommand(e);if(e.id===l.CREATE_CONTEXT_COMMAND_ID)return t._decodeCreateContextCommand(e);if(e.id===l.CREATE_CONTROLLER_COMMAND_ID)return t._decodeCreateControllerCommand(e);if(e.id===l.CREATE_PRESENTATION_MODEL_COMMAND_ID)return t._decodeCreatePresentationModelCommand(e);if(e.id===l.DELETE_PRESENTATION_MODEL_COMMAND_ID)return t._decodeDeletePresentationModelCommand(e);if(e.id===l.DESTROY_CONTEXT_COMMAND_ID)return t._decodeDestroyContextCommand(e);if(e.id===l.DESTROY_CONTROLLER_COMMAND_ID)return t._decodeDestroyControllerCommand(e);if(e.id===l.INTERRUPT_LONG_POLL_COMMAND_ID)return t._decodeInterruptLongPollCommand(e);if(e.id===l.PRESENTATION_MODEL_DELETED_COMMAND_ID)return t._decodePresentationModelDeletedCommand(e);if(e.id===l.START_LONG_POLL_COMMAND_ID)return t._decodeStartLongPollCommand(e);if(e.id===l.VALUE_CHANGED_COMMAND_ID)return t._decodeValueChangedCommand(e);throw new T.default("Command of type "+e.id+" can not be handled")})}throw new T.default("Can not decode data that is not of type string")}}]),e}();t.default=P},function(e,t,n){var r=n(66),o=n(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(39),o=n(25),i=n(22),a=n(43),u=n(17),c=n(63),l=Object.getOwnPropertyDescriptor;t.f=n(12)?l:function(e,t){if(e=i(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.VALUE_CHANGED_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e,t){(0,a.checkMethod)("ValueChangedCommand.init()"),(0,a.checkParam)(e,"attributeId"),this.attributeId=e,this.newValue=t}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("AttributeMetadataChangedCommand.init()"),(0,a.checkParam)(e,"attributeId"),(0,a.checkParam)(t,"metadataName"),this.attributeId=e,this.metadataName=t,this.value=n}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.CALL_ACTION_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("CreateControllerCommand.init()"),(0,a.checkParam)(e,"controllerid"),(0,a.checkParam)(t,"actionName"),this.controllerid=e,this.actionName=t,this.params=n}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("ChangeAttributeMetadataCommand.init()"),(0,a.checkParam)(e,"attributeId"),(0,a.checkParam)(t,"metadataName"),this.attributeId=e,this.metadataName=t,this.value=n}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(6);t.default=function e(){(0,i.default)(this,e),this.id=a.CREATE_CONTEXT_COMMAND_ID}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.CREATE_CONTROLLER_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e,t){(0,a.checkMethod)("CreateControllerCommand.init()"),(0,a.checkParam)(e,"controllerName"),this.controllerName=e,this.parentControllerId=t}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.CREATE_PRESENTATION_MODEL_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e){(0,a.checkMethod)("CreatePresentationModelCommand.init()"),(0,a.checkParam)(e,"presentationModel"),this.attributes=[],this.clientSideOnly=!1,this.pmId=e.id,this.pmType=e.presentationModelType;var t=this;e.getAttributes().forEach(function(e){t.attributes.push({propertyName:e.propertyName,id:e.id,value:e.getValue()})})}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.DELETE_PRESENTATION_MODEL_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e){(0,a.checkMethod)("DeletePresentationModelCommand.init()"),(0,a.checkParam)(e,"pmId"),this.pmId=e}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(6);t.default=function e(){(0,i.default)(this,e),this.id=a.DESTROY_CONTEXT_COMMAND_ID}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.DESTROY_CONTROLLER_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e){(0,a.checkMethod)("DestroyControllerCommand.init()"),(0,a.checkParam)(e,"controllerId"),this.controllerId=e}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(6);t.default=function e(){(0,i.default)(this,e),this.id=a.INTERRUPT_LONG_POLL_COMMAND_ID}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=n(6),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.id=i.PRESENTATION_MODEL_DELETED_COMMAND_ID}return(0,o.default)(e,[{key:"init",value:function(e){(0,a.checkMethod)("PresentationModelDeletedCommand.init()"),(0,a.checkParam)(e,"pmId"),this.pmId=e}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(6);t.default=function e(){(0,i.default)(this,e),this.id=a.START_LONG_POLL_COMMAND_ID}},function(e,t,n){e.exports={default:n(186),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r,o=n(32),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0;var r=a(n(189)),o=a(n(193)),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1)),a=r(n(61));function r(e){return e&&e.__esModule?e:{default:e}}var u=0,c=function(){function r(e,t){(0,o.default)(this,r),this.id=e,this.presentationModelType=t,this.attributes=[],this.clientSideOnly=!1,this.dirty=!1,this.id=void 0!==e&&null!=e?e:(u++).toString(),this.invalidBus=new a.default,this.dirtyValueChangeBus=new a.default}return(0,i.default)(r,[{key:"copy",value:function(){var n=new r(null,this.presentationModelType);return n.clientSideOnly=!0,this.getAttributes().forEach(function(e){var t=e.copy();n.addAttribute(t)}),n}},{key:"addAttributes",value:function(e){var t=this;!e||e.length<1||e.forEach(function(e){t.addAttribute(e)})}},{key:"addAttribute",value:function(e){var t=this;if(e&&!(-1<this.attributes.indexOf(e))){if(this.findAttributeByPropertyName(e.propertyName))throw new Error("There already is an attribute with property name: "+e.propertyName+" in presentation model with id: "+this.id);if(e.getQualifier()&&this.findAttributeByQualifier(e.getQualifier()))throw new Error("There already is an attribute with qualifier: "+e.getQualifier()+" in presentation model with id: "+this.id);e.setPresentationModel(this),this.attributes.push(e),e.onValueChange(function(){t.invalidBus.trigger({source:t})})}}},{key:"onInvalidated",value:function(e){this.invalidBus.onEvent(e)}},{key:"getAttributes",value:function(){return this.attributes.slice(0)}},{key:"getAt",value:function(e){return this.findAttributeByPropertyName(e)}},{key:"findAllAttributesByPropertyName",value:function(t){var n=[];return t?(this.attributes.forEach(function(e){e.propertyName==t&&n.push(e)}),n):null}},{key:"findAttributeByPropertyName",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].propertyName==e)return this.attributes[t];return null}},{key:"findAttributeByQualifier",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].getQualifier()==e)return this.attributes[t];return null}},{key:"findAttributeById",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].id==e)return this.attributes[t];return null}},{key:"syncWith",value:function(n){this.attributes.forEach(function(e){var t=n.getAt(e.propertyName);t&&e.syncWith(t)})}}]),r}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_CALL_BEAN=t.SOURCE_SYSTEM_SERVER=t.SOURCE_SYSTEM_CLIENT=t.SOURCE_SYSTEM=void 0;var a=i(n(19)),u=i(n(0)),r=i(n(1)),c=n(2),o=i(n(41)),l=n(40);function i(e){return e&&e.__esModule?e:{default:e}}var s="@@@ R_BEAN @@@",d="@@@ CONTROLLER_ACTION_CALL_BEAN @@@",f="@@@ SOURCE_SYSTEM @@@",h=function(){function i(e,t,n,r){(0,u.default)(this,i),(0,c.checkMethod)("Connector(url, dolphin, classRepository, config)"),(0,c.checkParam)(e,"url"),(0,c.checkParam)(t,"dolphin"),(0,c.checkParam)(n,"classRepository");var o=this;this.dolphin=t,this.config=r,this.classRepository=n,this.highlanderPMResolver=function(){},this.highlanderPMPromise=new a.default(function(e){o.highlanderPMResolver=e}),t.getClientModelStore().onModelStoreChange(function(e){var t=e.clientPresentationModel,n=t.findAttributeByPropertyName(f);(0,c.exists)(n)&&"server"===n.value&&(e.eventType===l.ADDED_TYPE?o.onModelAdded(t):e.eventType===l.REMOVED_TYPE&&o.onModelRemoved(t))})}return(0,r.default)(i,[{key:"connect",value:function(){this.dolphin.startPushListening(o.default.createStartLongPollCommand(),o.default.createInterruptLongPollCommand())}},{key:"onModelAdded",value:function(e){switch((0,c.checkMethod)("Connector.onModelAdded(model)"),(0,c.checkParam)(e,"model"),e.presentationModelType){case d:break;case s:this.classRepository.registerClass(e);break;case"@@@ HIGHLANDER_BEAN @@@":this.highlanderPMResolver(e);break;case"@R:LS@":this.classRepository.spliceListEntry(e),this.dolphin.deletePresentationModel(e);break;default:this.classRepository.load(e)}}},{key:"onModelRemoved",value:function(e){switch((0,c.checkMethod)("Connector.onModelRemoved(model)"),(0,c.checkParam)(e,"model"),e.presentationModelType){case s:this.classRepository.unregisterClass(e);break;case"@R:LS@":break;default:this.classRepository.unload(e)}}},{key:"invoke",value:function(t){(0,c.checkMethod)("Connector.invoke(command)"),(0,c.checkParam)(t,"command");var n=this.dolphin;return new a.default(function(e){n.send(t,{onFinished:function(){e()}})})}},{key:"getHighlanderPM",value:function(){return this.highlanderPMPromise}}]),i}();t.default=h,t.SOURCE_SYSTEM=f,t.SOURCE_SYSTEM_CLIENT="client",t.SOURCE_SYSTEM_SERVER="server",t.ACTION_CALL_BEAN=d},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HTTP=t.registerServiceProvider=t.hasService=t.getService=t.LogLevel=t.LoggerFactory=void 0;var r=v(n(0)),o=v(n(1)),i=n(5),a=n(145),u=n(31),c=n(14),l=n(146),s=n(166),d=n(167),f=n(209),h=n(85);function v(e){return e&&e.__esModule?e:{default:e}}(0,l.register)(a.Client),(0,s.register)(a.Client),(0,d.register)(a.Client),(0,f.register)(a.Client),a.Client.init();var p=a.Client.getService,m=a.Client.hasService,_=a.Client.registerServiceProvider;if(a.Client.LOGGER.info("Rico Version:","1.0.0-CR.4"),t.LoggerFactory=i.LoggerFactory,t.LogLevel=i.LogLevel,t.getService=p,t.hasService=m,t.registerServiceProvider=_,t.HTTP=c.HTTP,window.Worker&&window.Blob&&window.URL&&URL.createObjectURL){a.Client.LOGGER.debug("Creating Worker");var y=function(){function e(){(0,r.default)(this,e),this.blob=new Blob(["self.handleTimeout = function() {    const message = this.statusText || 'Timeout occurred';    const workerMessage = {error: true, message, status: this.status, timedout: true};    self.postMessage(workerMessage);};self.handleError = function () {    let message = this.statusText || 'Unspecified error occured';    const workerMessage = {error: true, message, status: this.status, timedout: false};    self.postMessage(workerMessage);};self.handleStateChange = function () {    if (this.readyState === 4 && this.status >= 200 && this.status < 300) {        const workerMessage = {error: false, response: this.response, status: this.status, url: this.url, responseHeaders: this.getAllResponseHeaders()};        self.postMessage(workerMessage);    } else if (this.readyState === 4 && this.status >= 300) {        const workerMessage = {error: true, message: this.statusText, status: this.status, timedout: false};        self.postMessage(workerMessage);    }};self.addEventListener('message', function(event) {    const timeout = event.data.timeout || 0;    const configuration = event.data.conf || {};    const requestHeaders = event.data.requestHeaders || [];        const httpRequest = new XMLHttpRequest();    const async = true;        httpRequest.open(configuration.method, configuration.url, async);    httpRequest.url = configuration.url;    httpRequest.method = configuration.method;    httpRequest.withCredentials = true;    for (let i = 0; i < requestHeaders.length; i++) {        const header = requestHeaders[i];        httpRequest.setRequestHeader(header.name, header.value);    }    if (configuration.headers && configuration.headers.length > 0) {        for (let i = 0; i < configuration.headers.length; i++) {            const header = configuration.headers[i];            httpRequest.setRequestHeader(header.name, header.value);        }    }    httpRequest.timeout = timeout;    if (configuration.responseType) {        httpRequest.responseType = configuration.responseType;    }    httpRequest.ontimeout = self.handleTimeout.bind(httpRequest);    httpRequest.onerror = self.handleError.bind(httpRequest);    httpRequest.onreadystatechange = self.handleStateChange.bind(httpRequest);    httpRequest.send(configuration.requestBody);});"],{type:"application/javascript"})}return(0,o.default)(e,[{key:"createWorker",value:function(){return new Worker(URL.createObjectURL(this.blob))}}]),e}(),g=new u.ServiceProvider(y,"HttpWorker");a.Client.registerServiceProvider(g)}var E=i.LoggerFactory.getLogger("Deprecated:"),C=!0;function M(){C&&(E.warn('Please do not use "dolphin" anymore, it may be removed in the next version! Use the new API instead!'),C=!1)}window&&(window.dolphin={get ClientContextFactory(){return M(),h.ClientContextFactory.legecyClientSupport=a.Client,h.ClientContextFactory},get createClientContext(){return M(),(0,h.createClientContext)(a.Client)},get LoggerFactory(){return M(),i.LoggerFactory},get LogLevel(){return M(),i.LogLevel}})},function(e,t,n){n(110);var r=n(3).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(4);r(r.S+r.F*!n(12),"Object",{defineProperty:n(9).f})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerFactory=void 0;var r=c(n(0)),o=c(n(1)),i=c(n(20)),a=n(2),u=n(140);function c(e){return e&&e.__esModule?e:{default:e}}var l=new u.Logger("ROOT"),s={loggers:new i.default},d=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"getLogger",value:function(e){if(!(0,a.exists)(e)||"ROOT"===e)return l;var t=s.loggers.get(e);if(t)return t;var n=new u.Logger(e,l);return s.loggers.set(e,n),n}}]),e}();t.LoggerFactory=d},function(e,t,n){n(33),n(18),n(23),n(120),n(124),n(126),n(127),e.exports=n(3).Map},function(e,t,n){var c=n(44),l=n(45);e.exports=function(u){return function(e,t){var n,r,o=String(l(e)),i=c(t),a=o.length;return i<0||a<=i?u?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){var r=n(34),o=n(25),i=n(28),a={};n(15)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var a=n(9),u=n(11),c=n(35);e.exports=n(12)?Object.defineProperties:function(e,t){u(e);for(var n,r=c(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var c=n(22),l=n(36),s=n(117);e.exports=function(u){return function(e,t,n){var r,o=c(e),i=l(o.length),a=s(n,i);if(u&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===t)return u||a||0;return!u&&-1}}},function(e,t,n){var r=n(44),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(119),o=n(69),i=n(21),a=n(22);e.exports=n(46)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(70),o=n(55);e.exports=n(74)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var g=n(13),E=n(47),C=n(29),M=n(36),r=n(122);e.exports=function(d,e){var f=1==d,h=2==d,v=3==d,p=4==d,m=6==d,_=5==d||m,y=e||r;return function(e,t,n){for(var r,o,i=C(e),a=E(i),u=g(t,n,3),c=M(a.length),l=0,s=f?y(e,c):h?y(e,0):void 0;l<c;l++)if((_||l in a)&&(o=u(r=a[l],l,i),d))if(f)s[l]=o;else if(o)switch(d){case 3:return!0;case 5:return r;case 6:return l;case 2:s.push(r)}else if(p)return!1;return m?-1:v||p?p:s}}},function(e,t,n){var r=n(123);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(10),o=n(75),i=n(8)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(4);r(r.P+r.R,"Map",{toJSON:n(76)("Map")})},function(e,t,n){var r=n(30);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(77)("Map")},function(e,t,n){n(78)("Map")},function(e,t,n){t.__esModule=!0;var r,o=n(62),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports={default:n(130),__esModule:!0}},function(e,t,n){n(131),e.exports=n(3).Object.assign},function(e,t,n){var r=n(4);r(r.S+r.F,"Object",{assign:n(132)})},function(e,t,n){var f=n(35),h=n(56),v=n(39),p=n(29),m=n(47),o=Object.assign;e.exports=!o||n(16)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=p(e),r=arguments.length,o=1,i=h.f,a=v.f;o<r;)for(var u,c=m(arguments[o++]),l=i?f(c).concat(i(c)):f(c),s=l.length,d=0;d<s;)a.call(c,u=l[d++])&&(n[u]=c[u]);return n}:o},function(e,t,n){t.__esModule=!0;var r=o(n(134)),c=o(n(137));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=(0,c.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(135),__esModule:!0}},function(e,t,n){n(23),n(18),e.exports=n(136)},function(e,t,n){var r=n(38),o=n(8)("iterator"),i=n(21);e.exports=n(3).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(138),__esModule:!0}},function(e,t,n){n(23),n(18),e.exports=n(139)},function(e,t,n){var r=n(11),o=n(53);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=l(n(0)),o=l(n(1)),a=l(n(141)),u=l(n(79)),i=n(2),c=n(64);function l(e){return e&&e.__esModule?e:{default:e}}var s={pad:function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n},internalLog:function(){var e=(0,u.default)(arguments),t=e.shift(),n=e.shift(),r=e.shift(),o=new Date,i=o.getFullYear()+"-"+s.pad(o.getMonth()+1,2)+"-"+s.pad(o.getDate(),2)+" "+s.pad(o.getHours(),2)+":"+s.pad(o.getMinutes(),2)+":"+s.pad(o.getSeconds(),2)+"."+s.pad(o.getMilliseconds(),3);t.apply(void 0,[i,r.text,n].concat((0,a.default)(e)))},getCookie:function(e){if((0,i.exists)(window)&&(0,i.exists)(window.document)&&(0,i.exists)(window.document.cookie)){var t=("; "+window.document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}}},d=function(){function n(e,t){switch((0,r.default)(this,n),this.context=e,this.rootLogger=t,s.getCookie("RICO_LOGGER_"+this.context)){case"NONE":this.logLevel=c.LogLevel.NONE;break;case"ALL":this.logLevel=c.LogLevel.ALL;break;case"TRACE":this.logLevel=c.LogLevel.TRACE;break;case"DEBUG":this.logLevel=c.LogLevel.DEBUG;break;case"INFO":this.logLevel=c.LogLevel.INFO;break;case"WARN":this.logLevel=c.LogLevel.WARN;break;case"ERROR":this.logLevel=c.LogLevel.ERROR}}return(0,o.default)(n,[{key:"trace",value:function(){(0,i.exists)(console)&&this.isLogLevel(c.LogLevel.TRACE)&&s.internalLog.apply(s,[console.log,this.context,c.LogLevel.TRACE].concat(Array.prototype.slice.call(arguments)))}},{key:"debug",value:function(){(0,i.exists)(console)&&this.isLogLevel(c.LogLevel.DEBUG)&&s.internalLog.apply(s,[console.log,this.context,c.LogLevel.DEBUG].concat(Array.prototype.slice.call(arguments)))}},{key:"info",value:function(){(0,i.exists)(console)&&this.isLogLevel(c.LogLevel.INFO)&&s.internalLog.apply(s,[console.log,this.context,c.LogLevel.INFO].concat(Array.prototype.slice.call(arguments)))}},{key:"warn",value:function(){(0,i.exists)(console)&&this.isLogLevel(c.LogLevel.WARN)&&s.internalLog.apply(s,[console.warn,this.context,c.LogLevel.WARN].concat(Array.prototype.slice.call(arguments)))}},{key:"error",value:function(){(0,i.exists)(console)&&this.isLogLevel(c.LogLevel.ERROR)&&s.internalLog.apply(s,[console.error,this.context,c.LogLevel.ERROR].concat(Array.prototype.slice.call(arguments)))}},{key:"getLogLevel",value:function(){return(0,i.exists)(this.logLevel)?this.logLevel:(0,i.exists)(this.rootLogger)?this.rootLogger.getLogLevel():c.LogLevel.INFO}},{key:"setLogLevel",value:function(e){this.logLevel=e}},{key:"setLogLevelByName",value:function(e){(0,i.exists)(c.LogLevel[e])&&(this.logLevel=c.LogLevel[e])}},{key:"isLogLevel",value:function(e){return this.getLogLevel()!==c.LogLevel.NONE&&(this.getLogLevel()===c.LogLevel.ALL||(this.getLogLevel()===c.LogLevel.TRACE||(this.getLogLevel()===c.LogLevel.DEBUG&&e!==c.LogLevel.TRACE||(this.getLogLevel()===c.LogLevel.INFO&&e!==c.LogLevel.TRACE&&e!==c.LogLevel.DEBUG||(this.getLogLevel()===c.LogLevel.WARN&&e!==c.LogLevel.TRACE&&e!==c.LogLevel.DEBUG&&e!==c.LogLevel.INFO||this.getLogLevel()===c.LogLevel.ERROR&&e!==c.LogLevel.TRACE&&e!==c.LogLevel.DEBUG&&e!==c.LogLevel.INFO&&e!==c.LogLevel.WARN)))))}},{key:"isLogLevelUseable",value:function(e){return(0,i.checkParam)(e,"level"),!!e.level&&this.getLogLevel().level>=e.level}}]),n}();t.Logger=d},function(e,t,n){t.__esModule=!0;var r,o=n(79),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){n(18),n(143),e.exports=n(3).Array.from},function(e,t,n){var f=n(13),r=n(4),h=n(29),v=n(71),p=n(72),m=n(36),_=n(144),y=n(53);r(r.S+r.F*!n(80)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,o,i=h(e),a="function"==typeof this?this:Array,u=arguments.length,c=1<u?arguments[1]:void 0,l=void 0!==c,s=0,d=y(i);if(l&&(c=f(c,2<u?arguments[2]:void 0,2)),null==d||a==Array&&p(d))for(n=new a(t=m(i.length));s<t;s++)_(n,s,l?c(i[s],s):i[s]);else for(o=d.call(i),n=new a;!(r=o.next()).done;s++)_(n,s,l?v(o,c,[r.value,s],!0):r.value);return n.length=s,n}})},function(e,t,n){var r=n(9),o=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var r=u(n(20)),o=u(n(0)),i=n(2),a=n(5);function u(e){return e&&e.__esModule?e:{default:e}}var c=function e(){(0,o.default)(this,e)};c.LOGGER=a.LoggerFactory.getLogger("Client"),c.services=new r.default,c.serviceProviders=new r.default,c.configuration={},c.getService=function(e){var t=c.services.get(e);if(!(0,i.exists)(t)){var n=c.serviceProviders.get(e);if(!(0,i.exists)(n))throw new Error("No service provider found for "+e);t=n.getService(c.configuration),c.services.set(e,t)}return t},c.hasService=function(e){var t=c.serviceProviders.get(e);return!!(0,i.exists)(t)},c.getAllServiceTypes=function(){var t=[];return c.serviceProviders.forEach(function(e){return t.push(e)}),t},c.registerServiceProvider=function(e){if(null==e)throw new Error("Cannot register empty service provider");if("function"!=typeof e.getName||"function"!=typeof e.getService)throw new Error("Cannot register service provider without getName() and getService() methods");if(c.serviceProviders.get(e.getName()))throw new Error("Cannot register another service provider. Name already in use.");c.serviceProviders.set(e.getName(),e),c.LOGGER.debug("Service provider registered with name",e.getName())},c.init=function(){c.serviceProviders.forEach(function(e){var t=e.getService();c.LOGGER.trace("Initializing service for service provider",e.getName()),"function"==typeof t.initServiceProvider&&(c.LOGGER.debug("Initializing service",t),t.initServiceProvider(c))})},t.Client=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;var r=n(147),o=n(160),i=n(31),a=n(2);t.register=function(e){if((0,a.exists)(e)){var t=new i.ServiceProvider(r.HttpClient,"HttpClient",e),n=new i.ServiceProvider(o.HttpClientInterceptor,"HttpClientInterceptor",e);e.registerServiceProvider(t),e.registerServiceProvider(n)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var r=u(n(0)),o=u(n(1)),i=n(148),a=n(14);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e){(0,r.default)(this,t),this.client=e}return(0,o.default)(t,[{key:"request",value:function(e,t){var n={url:e,method:t};return this.requestBuilder=new i.RequestBuilder(n,this.client),this.requestBuilder}},{key:"get",value:function(e){return this.request(e,a.HTTP.METHOD.GET)}},{key:"post",value:function(e){return this.request(e,a.HTTP.METHOD.POST)}},{key:"put",value:function(e){return this.request(e,a.HTTP.METHOD.PUT)}},{key:"delete",value:function(e){return this.request(e,a.HTTP.METHOD.DELETE)}}]),t}();t.HttpClient=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBuilder=void 0;var r=u(n(0)),o=u(n(1)),i=n(149),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function n(e,t){(0,r.default)(this,n),this.configuration=e,this.reponseBuilder=new i.ResponseBuilder(e,t)}return(0,o.default)(n,[{key:"withHeader",value:function(e,t){return this.configuration.headers||(this.configuration.headers=[]),this.configuration.headers.push({name:e,value:t}),this}},{key:"withHeadersInfo",value:function(e){if((0,a.exists)(e))for(var t in this.configuration.headers||(this.configuration.headers=[]),e)if(e.hasOwnProperty(t)){var n=e[t];this.configuration.headers.push({name:t,value:n})}return this}},{key:"withContent",value:function(e){return this.configuration.requestBody=e,this.reponseBuilder}},{key:"withoutContent",value:function(){return this.reponseBuilder}}]),n}();t.RequestBuilder=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseBuilder=void 0;var r=u(n(0)),o=u(n(1)),i=n(150),a=n(14);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function n(e,t){(0,r.default)(this,n),this.configuration=e,this.executor=new i.Executor(e,t)}return(0,o.default)(n,[{key:"readBytes",value:function(){return this.configuration.responseType=a.RESPONSE_TYPE.ARRAY_BUFFER,this.executor}},{key:"readString",value:function(){return this.configuration.responseType=a.RESPONSE_TYPE.TEXT,this.executor}},{key:"readObject",value:function(){return this.configuration.responseType=a.RESPONSE_TYPE.JSON,this.executor}},{key:"withoutResult",value:function(){return this.executor}}]),n}();t.ResponseBuilder=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Executor=void 0;var a=c(n(19)),r=c(n(0)),o=c(n(1)),i=n(5),h=n(158),v=n(159),u=n(14);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function f(e,t){(0,r.default)(this,f),this.configuration=e,this.client=t}return(0,o.default)(f,[{key:"execute",value:function(e,t){var c=this,n=null;this.client&&this.client.hasService("HttpWorker")&&(n=this.client.getService("HttpWorker"));var r=null!==n&&(!0===t||!0===e),l=0;!0!==e&&!1!==e&&(l=e);var s=[];this.client&&(s=this.client.getService("HttpClientInterceptor").getRequestInterceptors(),f.LOGGER.trace("Request interceptors found:",s));var d=[];this.client&&(d=this.client.getService("HttpClientInterceptor").getResponseInterceptors(),f.LOGGER.trace("Response interceptors found:",d));var o=function(r,o){var i=c,e=new XMLHttpRequest;e.open(c.configuration.method,c.configuration.url,!0),e.url=c.configuration.url,e.method=c.configuration.method,e.withCredentials=!0;for(var t=0;t<s.length;t++){s[t].handleRequest(e)}if(c.configuration.headers&&0<c.configuration.headers.length)for(var n=0;n<c.configuration.headers.length;n++){var a=c.configuration.headers[n];e.setRequestHeader(a.name,a.value)}e.timeout=l,c.configuration.responseType&&(e.responseType=c.configuration.responseType),e.ontimeout=function(){var e=this.statusText||"Timeout occurred",t=new v.HttpException(e,this.status,!0);f.LOGGER.error(t),o(t)},e.onerror=function(){var e=this.statusText||"Unspecified error occured",t=new v.HttpException(e,this.status);f.LOGGER.error(t),o(t)},e.onreadystatechange=function(){if(this.readyState===u.HTTP.XMLHTTPREQUEST_READYSTATE.DONE&&f.LOGGER.trace("Request to ",i.configuration.url,"finished with",this.status),this.readyState===u.HTTP.XMLHTTPREQUEST_READYSTATE.DONE&&200<=this.status&&this.status<300){for(var e=new h.HttpResponse(this.url,this.status,this.response,this.getAllResponseHeaders()),t=0;t<d.length;t++){d[t].handleResponse(e)}r(e)}else if(this.readyState===u.HTTP.XMLHTTPREQUEST_READYSTATE.DONE&&300<=this.status){var n=new v.HttpException(this.statusText,this.status);f.LOGGER.error(n),o(n)}},e.send(c.configuration.requestBody)};o=o.bind(this);var i=function(i,a){for(var r=[],e=0;e<s.length;e++){s[e].handleRequest({url:c.configuration.url,setRequestHeader:function(e,t){var n={name:e,value:t};r.push(n)}})}var u=n.createWorker();try{u.onmessage=function(e){u.terminate(),f.LOGGER.trace("Message form Worker",e);var t=e.data;if(t.error){var n=new v.HttpException(t.message,t.status,t.timedout);f.LOGGER.error(n),a(n)}else{for(var r=new h.HttpResponse(t.url,t.status,t.response,t.responseHeaders),o=0;o<d.length;o++){d[o].handleResponse(r)}i(r)}},u.onerror=function(e){var t=new v.HttpException(e.data,0,!1);a(t)},u.postMessage({conf:c.configuration,timeout:l,requestHeaders:r})}catch(e){var t=new v.HttpException(e,0,!1);a(t)}};return i=i.bind(this),new a.default(function(e,t){r&&c.client&&c.client.hasService("HttpWorker")?i(e,t):o(e,t)})}}]),f}();l.LOGGER=i.LoggerFactory.getLogger("Executor"),t.Executor=l},function(e,t,n){n(33),n(18),n(23),n(152),n(156),n(157),e.exports=n(3).Promise},function(e,t,n){var r,o,i,a,u=n(26),c=n(7),l=n(13),s=n(38),d=n(4),f=n(10),h=n(24),v=n(52),p=n(30),m=n(81),_=n(82).set,y=n(154)(),g=n(57),E=n(83),C=n(155),M=n(84),T="Promise",A=c.TypeError,P=c.process,O=P&&P.versions,k=O&&O.v8||"",R=c[T],L="process"==s(P),N=function(){},b=o=g.f,I=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(N,N)};return(L||"function"==typeof PromiseRejectionEvent)&&e.then(N)instanceof t&&0!==k.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},S=function(s,n){if(!s._n){s._n=!0;var r=s._c;y(function(){for(var c=s._v,l=1==s._s,e=0,t=function(e){var t,n,r,o=l?e.ok:e.fail,i=e.resolve,a=e.reject,u=e.domain;try{o?(l||(2==s._h&&H(s),s._h=1),!0===o?t=c:(u&&u.enter(),t=o(c),u&&(u.exit(),r=!0)),t===e.promise?a(A("Promise-chain cycle")):(n=D(t))?n.call(t,i,a):i(t)):a(c)}catch(e){u&&!r&&u.exit(),a(e)}};r.length>e;)t(r[e++]);s._c=[],s._n=!1,n&&!s._h&&w(s)})}},w=function(i){_.call(c,function(){var e,t,n,r=i._v,o=x(i);if(o&&(e=E(function(){L?P.emit("unhandledRejection",r,i):(t=c.onunhandledrejection)?t({promise:i,reason:r}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=L||x(i)?2:1),i._a=void 0,o&&e.e)throw e.v})},x=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(t){_.call(c,function(){var e;L?P.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),S(t,!0))},U=function e(n){var r,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===n)throw A("Promise can't be resolved itself");(r=D(n))?y(function(){var t={_w:o,_d:!1};try{r.call(n,l(e,t,1),l(B,t,1))}catch(e){B.call(t,e)}}):(o._v=n,o._s=1,S(o,!1))}catch(e){B.call({_w:o,_d:!1},e)}}};I||(R=function(e){v(this,R,T,"_h"),h(e),r.call(this);try{e(l(U,this,1),l(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(51)(R.prototype,{then:function(e,t){var n=b(m(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=L?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&S(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(U,e,1),this.reject=l(B,e,1)},g.f=b=function(e){return e===R||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!I,{Promise:R}),n(28)(R,T),n(73)(T),a=n(3)[T],d(d.S+d.F*!I,T,{reject:function(e){var t=b(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(u||!I),T,{resolve:function(e){return M(u&&this===a?R:this,e)}}),d(d.S+d.F*!(I&&n(80)(function(e){R.all(e).catch(N)})),T,{all:function(e){var a=this,t=b(a),u=t.resolve,c=t.reject,n=E(function(){var r=[],o=0,i=1;p(e,!1,function(e){var t=o++,n=!1;r.push(void 0),i++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--i||u(r))},c)}),--i||u(r)});return n.e&&c(n.v),t.promise},race:function(e){var t=this,n=b(t),r=n.reject,o=E(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var u=n(7),c=n(82).set,l=u.MutationObserver||u.WebKitMutationObserver,s=u.process,d=u.Promise,f="process"==n(27)(s);e.exports=function(){var n,r,o,e=function(){var e,t;for(f&&(e=s.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():r=void 0,e}}r=void 0,e&&e.enter()};if(f)o=function(){s.nextTick(e)};else if(!l||u.navigator&&u.navigator.standalone)if(d&&d.resolve){var t=d.resolve(void 0);o=function(){t.then(e)}}else o=function(){c.call(u,e)};else{var i=!0,a=document.createTextNode("");new l(e).observe(a,{characterData:!0}),o=function(){a.data=i=!i}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,o()),r=t}}},function(e,t,n){var r=n(7).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(4),o=n(3),i=n(7),a=n(81),u=n(84);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,o.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){var r=n(4),o=n(57),i=n(83);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=void 0;var s=o(n(0)),r=o(n(1)),d=n(2);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function l(e,t,n,r){if((0,s.default)(this,l),this.url=e,this.status=t,this.content=n,this.headers={},(0,d.exists)(r)&&"string"==typeof r)for(var o=r.trim().split(/[\r\n]+/),i=0;i<o.length;i++){var a=o[i].split(": ");if(2===a.length){var u=a.shift().toLowerCase(),c=a.join(": ");this.headers[u]=c}}}return(0,r.default)(l,[{key:"getUrl",value:function(){return this.url}},{key:"getContent",value:function(){return this.content}},{key:"getStatus",value:function(){return this.status}},{key:"getHeaders",value:function(){return this.headers}},{key:"getHeaderByName",value:function(e){return(0,d.checkMethod)("getHeaderByName"),(0,d.checkParam)(e,"name"),this.headers[e.toLowerCase()]}}]),l}();t.HttpResponse=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpException=void 0;var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(){function r(e,t,n){(0,o.default)(this,r),this.message=e,this.status=t||0,this.timedout=n||!1}return(0,i.default)(r,[{key:"getMessage",value:function(){return this.message}},{key:"getStatus",value:function(){return this.status}},{key:"isTimedout",value:function(){return this.timedout}}]),r}();t.HttpException=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClientInterceptor=void 0;var r=a(n(58)),o=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,o.default)(this,e),this.requestHandlers=new r.default,this.responseHandlers=new r.default}return(0,i.default)(e,[{key:"addRequestInterceptor",value:function(e){this.requestHandlers.add(e)}},{key:"getRequestInterceptors",value:function(){var t=[];return this.requestHandlers.forEach(function(e){return t.push(e)}),t}},{key:"addResponseInterceptor",value:function(e){this.responseHandlers.add(e)}},{key:"getResponseInterceptors",value:function(){var t=[];return this.responseHandlers.forEach(function(e){return t.push(e)}),t}}]),e}();t.HttpClientInterceptor=u},function(e,t,n){n(33),n(18),n(23),n(162),n(163),n(164),n(165),e.exports=n(3).Set},function(e,t,n){var r=n(70),o=n(55);e.exports=n(74)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(4);r(r.P+r.R,"Set",{toJSON:n(76)("Set")})},function(e,t,n){n(77)("Set")},function(e,t,n){n(78)("Set")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;var r=s(n(20)),i=s(n(0)),a=s(n(1)),u=n(2),o=n(31),c=n(5),l=n(14);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){function o(){(0,i.default)(this,o),this.clientIds=new r.default}return(0,a.default)(o,[{key:"handleRequest",value:function(e){(0,u.checkMethod)("handleRequest"),(0,u.checkParam)(e,"httpRequest");var t=this.getClientId(e.url);(0,u.exists)(t)&&(o.LOGGER.trace("Using ClientId",t),e.setRequestHeader(l.HTTP.HEADER_NAME.X_CLIENT_SESSION_ID,t))}},{key:"handleResponse",value:function(e){(0,u.checkMethod)("handleResponse"),(0,u.checkParam)(e,"httpResponse");var t=this.getClientId(e.url),n=e.getHeaderByName(l.HTTP.HEADER_NAME.X_CLIENT_SESSION_ID);if((0,u.exists)(t)&&(0,u.exists)(n)&&t!==n)throw new Error("Client Id does not match!");!(0,u.exists)(t)&&(0,u.exists)(n)&&(o.LOGGER.debug("New ClientId found",n),this.setClientId(e.url,n))}},{key:"initServiceProvider",value:function(e){(0,u.checkMethod)("initServiceProvider"),(0,u.checkParam)(e,"client"),e.getService("HttpClientInterceptor").addRequestInterceptor(this),e.getService("HttpClientInterceptor").addResponseInterceptor(this)}},{key:"getClientId",value:function(e){var t=(0,u.parseUrl)(e),n=o.calcKey(t.hostname,t.port);return this.clientIds.get(n)}},{key:"setClientId",value:function(e,t){var n=(0,u.parseUrl)(e),r=o.calcKey(n.hostname,n.port);this.clientIds.set(r,t),o.LOGGER.trace("Setting ClientId",t,"for",e,"with key",r)}}]),o}();d.calcKey=function(e,t){return e+t},d.LOGGER=c.LoggerFactory.getLogger("ClientScope"),t.register=function(e){if((0,u.exists)(e)){var t=new o.ServiceProvider(d,"ClientScope");e.registerServiceProvider(t)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;var r=n(85),o=n(31),i=n(2);t.register=function(e){if((0,i.exists)(e)){var t=new o.ServiceProvider(r.ClientContextFactory,"ClientContextFactory",e);e.registerServiceProvider(t)}}},function(e,t,n){e.exports={default:n(169),__esModule:!0}},function(e,t,n){n(170),e.exports=9007199254740991},function(e,t,n){var r=n(4);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dolphinBuilder=void 0;var r=s(n(0)),o=s(n(1)),i=s(n(172)),a=s(n(196)),u=s(n(198)),c=s(n(200)),l=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){function n(){(0,r.default)(this,n),this.slackMS=300,this.maxBatchSize=50,this.transmitter=null}return(0,o.default)(n,[{key:"withSlackMS",value:function(e){return this.slackMS=e,this}},{key:"withMaxBatchSize",value:function(e){return this.maxBatchSize=e,this}},{key:"withTransmitter",value:function(e){return this.transmitter=e,this}},{key:"build",value:function(){var e=new a.default,t=void 0;return t=this.transmitter?this.transmitter:new c.default,e.setClientConnector(new i.default(t,e,this.slackMS,this.maxBatchSize)),e.setClientModelStore(new u.default(e)),n.LOGGER.debug("Remoting client initialized",e,t),e}}]),n}();d.LOGGER=l.LoggerFactory.getLogger("DolphinBuilder");var f=new d;t.dolphinBuilder=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(0)),r=l(n(1)),a=l(n(173)),u=l(n(86)),c=l(n(105)),o=n(5);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:50;(0,i.default)(this,o),this.commandQueue=[],this.currentlySending=!1,this.pushEnabled=!1,this.waiting=!1,this.transmitter=e,this.clientDolphin=t,this.slackMS=n,this.codec=new u.default,this.commandBatcher=new a.default(!0,r)}return(0,r.default)(o,[{key:"setCommandBatcher",value:function(e){this.commandBatcher=e}},{key:"setPushEnabled",value:function(e){this.pushEnabled=e}},{key:"setPushListener",value:function(e){this.pushListener=e}},{key:"setReleaseCommand",value:function(e){this.releaseCommand=e}},{key:"send",value:function(e,t){this.commandQueue.push({command:e,handler:t}),this.currentlySending?this.release():this.doSendNext()}},{key:"doSendNext",value:function(){var r=this;if(this.commandQueue.length<1){if(!this.pushEnabled)return void(this.currentlySending=!1);this.enqueuePushCommand()}this.currentlySending=!0;var e=this.commandBatcher.batch(this.commandQueue);if(0<e.length){var t=e[e.length-1].handler,n=e.map(function(e){return e.command});this.transmitter.transmit(n,function(e){var n=[];e.forEach(function(e){var t=r.handle(e);t&&n.push(t)}),t&&t.onFinished(n),setTimeout(function(){return r.doSendNext()},r.slackMS)})}else setTimeout(function(){return r.doSendNext()},this.slackMS)}},{key:"handle",value:function(e){return"DeletePresentationModel"===e.id?this.handleDeletePresentationModelCommand(e):"CreatePresentationModel"===e.id?this.handleCreatePresentationModelCommand(e):"ValueChanged"===e.id?this.handleValueChangedCommand(e):"AttributeMetadataChanged"===e.id?this.handleAttributeMetadataChangedCommand(e):(o.LOGGER.error("Cannot handle, unknown command "+e),null)}},{key:"handleDeletePresentationModelCommand",value:function(e){var t=this.clientDolphin.findPresentationModelById(e.pmId);return t?(this.clientDolphin.getClientModelStore().deletePresentationModel(t,!0),t):null}},{key:"handleCreatePresentationModelCommand",value:function(e){var n=this;if(this.clientDolphin.getClientModelStore().containsPresentationModel(e.pmId))throw new Error("There already is a presentation model with id "+e.pmId+"  known to the client.");var r=[];e.attributes.forEach(function(e){var t=n.clientDolphin.attribute(e.propertyName,e.qualifier,e.value);e.id&&e.id.match(".*S$")&&(t.id=e.id),r.push(t)});var t=new c.default(e.pmId,e.pmType);return t.addAttributes(r),e.clientSideOnly&&(t.clientSideOnly=!0),this.clientDolphin.getClientModelStore().add(t,!1),this.clientDolphin.updatePresentationModelQualifier(t),t}},{key:"handleValueChangedCommand",value:function(e){var t=this.clientDolphin.getClientModelStore().findAttributeById(e.attributeId);return t?t.getValue()===e.newValue||t.setValueFromServer(e.newValue):o.LOGGER.error("attribute with id "+e.attributeId+" not found, cannot update to new value "+e.newValue),null}},{key:"handleAttributeMetadataChangedCommand",value:function(e){var t=this.clientDolphin.getClientModelStore().findAttributeById(e.attributeId);return t&&(t[e.metadataName]=e.value),null}},{key:"listen",value:function(){this.pushEnabled&&(this.waiting||this.currentlySending||this.doSendNext())}},{key:"enqueuePushCommand",value:function(){var e=this;this.waiting=!0,this.commandQueue.push({command:this.pushListener,handler:{onFinished:function(){e.waiting=!1},onFinishedData:null}})}},{key:"release",value:function(){this.waiting&&(this.waiting=!1,this.transmitter.signal(this.releaseCommand))}}]),o}();(t.default=s).LOGGER=o.LoggerFactory.getLogger("ClientConnector")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(1)),i=n(6);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function n(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50;(0,r.default)(this,n),this.folding=e,this.maxBatchSize=t}return(0,o.default)(n,[{key:"batch",value:function(e){for(var t=[],n=0;e[n]&&n<=this.maxBatchSize;){var r=e[n];if(n++,this.folding?r.command.id==i.VALUE_CHANGED_COMMAND_ID&&0<t.length&&t[t.length-1].command.id==i.VALUE_CHANGED_COMMAND_ID&&r.command.attributeId==t[t.length-1].command.attributeId?t[t.length-1].command.newValue=r.command.newValue:r.command.id==i.PRESENTATION_MODEL_DELETED_COMMAND_ID||t.push(r):t.push(r),r.handler)break}return e.splice(0,n),t}}]),n}();t.default=u},function(e,t,n){e.exports={default:n(175),__esModule:!0}},function(e,t,n){n(18),n(23),e.exports=n(59).f("iterator")},function(e,t,n){e.exports={default:n(177),__esModule:!0}},function(e,t,n){n(178),n(33),n(181),n(182),e.exports=n(3).Symbol},function(e,t,n){var r=n(7),a=n(17),o=n(12),i=n(4),u=n(65),c=n(54).KEY,l=n(16),s=n(49),d=n(28),f=n(37),h=n(8),v=n(59),p=n(60),m=n(179),_=n(75),y=n(11),g=n(10),E=n(22),C=n(43),M=n(25),T=n(34),A=n(180),P=n(88),O=n(9),k=n(35),R=P.f,L=O.f,N=A.f,b=r.Symbol,I=r.JSON,D=I&&I.stringify,S="prototype",w=h("_hidden"),x=h("toPrimitive"),H={}.propertyIsEnumerable,B=s("symbol-registry"),U=s("symbols"),G=s("op-symbols"),j=Object[S],F="function"==typeof b,V=r.QObject,Y=!V||!V[S]||!V[S].findChild,q=o&&l(function(){return 7!=T(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(j,t);r&&delete j[t],L(e,t,n),r&&e!==j&&L(j,t,r)}:L,Q=function(e){var t=U[e]=T(b[S]);return t._k=e,t},X=F&&"symbol"==oe(b.iterator)?function(e){return"symbol"==(void 0===e?"undefined":oe(e))}:function(e){return e instanceof b},W=function(e,t,n){return e===j&&W(G,t,n),y(e),t=C(t,!0),y(n),a(U,t)?(n.enumerable?(a(e,w)&&e[w][t]&&(e[w][t]=!1),n=T(n,{enumerable:M(0,!1)})):(a(e,w)||L(e,w,M(1,{})),e[w][t]=!0),q(e,t,n)):L(e,t,n)},K=function(e,t){y(e);for(var n,r=m(t=E(t)),o=0,i=r.length;o<i;)W(e,n=r[o++],t[n]);return e},J=function(e){var t=H.call(this,e=C(e,!0));return!(this===j&&a(U,e)&&!a(G,e))&&(!(t||!a(this,e)||!a(U,e)||a(this,w)&&this[w][e])||t)},z=function(e,t){if(e=E(e),t=C(t,!0),e!==j||!a(U,t)||a(G,t)){var n=R(e,t);return!n||!a(U,t)||a(e,w)&&e[w][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=N(E(e)),r=[],o=0;n.length>o;)a(U,t=n[o++])||t==w||t==c||r.push(t);return r},Z=function(e){for(var t,n=e===j,r=N(n?G:E(e)),o=[],i=0;r.length>i;)!a(U,t=r[i++])||n&&!a(j,t)||o.push(U[t]);return o};F||(u((b=function(){if(this instanceof b)throw TypeError("Symbol is not a constructor!");var n=f(0<arguments.length?arguments[0]:void 0);return o&&Y&&q(j,n,{configurable:!0,set:function e(t){this===j&&e.call(G,t),a(this,w)&&a(this[w],n)&&(this[w][n]=!1),q(this,n,M(1,t))}}),Q(n)})[S],"toString",function(){return this._k}),P.f=z,O.f=W,n(87).f=A.f=$,n(39).f=J,n(56).f=Z,o&&!n(26)&&u(j,"propertyIsEnumerable",J,!0),v.f=function(e){return Q(h(e))}),i(i.G+i.W+i.F*!F,{Symbol:b});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=k(h.store),re=0;ne.length>re;)p(ne[re++]);i(i.S+i.F*!F,"Symbol",{for:function(e){return a(B,e+="")?B[e]:B[e]=b(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),i(i.S+i.F*!F,"Object",{create:function(e,t){return void 0===t?T(e):K(T(e),t)},defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:z,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),I&&i(i.S+i.F*(!F||l(function(){var e=b();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(g(t)||void 0!==e)&&!X(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,D.apply(I,r)}}),b[S][x]||n(15)(b[S],x,b[S].valueOf),d(b,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var u=n(35),c=n(56),l=n(39);e.exports=function(e){var t=u(e),n=c.f;if(n)for(var r,o=n(e),i=l.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},function(e,t,n){var r=n(22),o=n(87).f,i={}.toString,a="object"==("undefined"==typeof window?"undefined":oe(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(60)("asyncIterator")},function(e,t,n){n(60)("observable")},function(e,t,n){e.exports={default:n(184),__esModule:!0}},function(e,t,n){var r=n(3),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(102)),o=u(n(0)),i=u(n(103)),a=u(n(104));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,a.default)(t,e),t}(Error);t.default=c},function(e,t,n){n(187),e.exports=n(3).Object.getPrototypeOf},function(e,t,n){var r=n(29),o=n(68);n(188)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var o=n(4),i=n(3),a=n(16);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){e.exports={default:n(190),__esModule:!0}},function(e,t,n){n(191),e.exports=n(3).Object.setPrototypeOf},function(e,t,n){var r=n(4);r(r.S,"Object",{setPrototypeOf:n(192).set})},function(e,t,o){var n=o(10),r=o(11),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(13)(Function.call,o(88).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(194),__esModule:!0}},function(e,t,n){n(195);var r=n(3).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(4);r(r.S,"Object",{create:n(34)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),o=u(n(1)),i=u(n(197)),a=u(n(105));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"setClientConnector",value:function(e){this.clientConnector=e}},{key:"getClientConnector",value:function(){return this.clientConnector}},{key:"send",value:function(e,t){this.clientConnector.send(e,t)}},{key:"attribute",value:function(e,t,n){return new i.default(e,t,n)}},{key:"presentationModel",value:function(e,t){for(var n=new a.default(e,t),r=arguments.length,o=Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return o&&0<o.length&&o.forEach(function(e){n.addAttribute(e)}),this.getClientModelStore().add(n,!0),n}},{key:"setClientModelStore",value:function(e){this.clientModelStore=e}},{key:"getClientModelStore",value:function(){return this.clientModelStore}},{key:"listPresentationModelIds",value:function(){return this.getClientModelStore().listPresentationModelIds()}},{key:"listPresentationModels",value:function(){return this.getClientModelStore().listPresentationModels()}},{key:"findAllPresentationModelByType",value:function(e){return this.getClientModelStore().findAllPresentationModelByType(e)}},{key:"getAt",value:function(e){return this.findPresentationModelById(e)}},{key:"findPresentationModelById",value:function(e){return this.getClientModelStore().findPresentationModelById(e)}},{key:"deletePresentationModel",value:function(e){this.getClientModelStore().deletePresentationModel(e,!0)}},{key:"updatePresentationModelQualifier",value:function(e){var t=this;e.getAttributes().forEach(function(e){t.updateAttributeQualifier(e)})}},{key:"updateAttributeQualifier",value:function(t){t.getQualifier()&&this.getClientModelStore().findAllAttributesByQualifier(t.getQualifier()).forEach(function(e){e.setValue(t.getValue())})}},{key:"startPushListening",value:function(e,t){var n=this;this.clientConnector.setPushListener(e),this.clientConnector.setReleaseCommand(t),this.clientConnector.setPushEnabled(!0),setTimeout(function(){n.clientConnector.listen()},0)}},{key:"stopPushListening",value:function(){this.clientConnector.setPushEnabled(!1)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(32)),i=c(n(0)),a=c(n(1)),u=c(n(61)),r=n(5);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function r(e,t,n){(0,i.default)(this,r),this.propertyName=e,this.id=r.clientAttributeInstanceCount+++"C",this.valueChangeBus=new u.default,this.qualifierChangeBus=new u.default,this.setValue(n),this.setQualifier(t)}return(0,a.default)(r,[{key:"copy",value:function(){return new r(this.propertyName,this.getQualifier(),this.getValue())}},{key:"setPresentationModel",value:function(e){if(this.presentationModel)throw new Error("You can not set a presentation model for an attribute that is already bound.");this.presentationModel=e}},{key:"getPresentationModel",value:function(){return this.presentationModel}},{key:"getValue",value:function(){return this.value}},{key:"setValueFromServer",value:function(e){var t=r.checkValue(e);if(this.value!==t){var n=this.value;this.value=t,this.valueChangeBus.trigger({oldValue:n,newValue:t,sendToServer:!1})}}},{key:"setValue",value:function(e){var t=r.checkValue(e);if(this.value!==t){var n=this.value;this.value=t,this.valueChangeBus.trigger({oldValue:n,newValue:t,sendToServer:!0})}}},{key:"setQualifier",value:function(e){if(this.qualifier!==e){var t=this.qualifier;this.qualifier=e,this.qualifierChangeBus.trigger({oldValue:t,newValue:e}),this.valueChangeBus.trigger({oldValue:this.value,newValue:this.value,sendToServer:!1})}}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"onValueChange",value:function(e){this.valueChangeBus.onEvent(e),e({oldValue:this.value,newValue:this.value,sendToServer:!1})}},{key:"onQualifierChange",value:function(e){this.qualifierChangeBus.onEvent(e)}},{key:"syncWith",value:function(e){e&&(this.setQualifier(e.getQualifier()),this.setValue(e.value))}}],[{key:"checkValue",value:function(e){if(null==e||void 0===e)return null;var t=e;(t instanceof String||t instanceof Boolean||t instanceof Number)&&(t=e.valueOf()),t instanceof r&&(r.LOGGER.warn("An Attribute may not itself contain an attribute as a value. Assuming you forgot to call value."),t=this.checkValue(e.value));var n=!1;if((-1<this.SUPPORTED_VALUE_TYPES.indexOf(void 0===t?"undefined":(0,o.default)(t))||t instanceof Date)&&(n=!0),!n)throw new Error("Attribute values of this type are not allowed: "+(void 0===e?"undefined":(0,o.default)(e)));return t}}]),r}();(t.default=l).LOGGER=r.LoggerFactory.getLogger("ClientAttribute"),l.SUPPORTED_VALUE_TYPES=["string","number","boolean"],l.clientAttributeInstanceCount=0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(20)),i=d(n(0)),a=d(n(1)),u=d(n(199)),c=d(n(61)),l=d(n(41)),s=n(40),o=n(5);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function o(e){(0,i.default)(this,o),this.clientDolphin=e,this.presentationModels=new r.default,this.presentationModelsPerType=new r.default,this.attributesPerId=new r.default,this.attributesPerQualifier=new r.default,this.modelStoreChangeBus=new c.default}return(0,a.default)(o,[{key:"getClientDolphin",value:function(){return this.clientDolphin}},{key:"registerAttribute",value:function(n){var r=this;this.addAttributeById(n),n.getQualifier()&&this.addAttributeByQualifier(n),n.onValueChange(function(e){if(e.newValue!==e.oldValue&&!0===e.sendToServer){var t=l.default.createValueChangedCommand(n.id,e.newValue);r.clientDolphin.getClientConnector().send(t,null)}n.getQualifier()&&r.findAttributesByFilter(function(e){return e!==n&&e.getQualifier()===n.getQualifier()}).forEach(function(e){e.setValue(n.getValue())})}),n.onQualifierChange(function(e){r.clientDolphin.getClientConnector().send(l.default.createChangeAttributeMetadataCommand(n.id,u.default.QUALIFIER_PROPERTY,e.newValue),null)})}},{key:"add",value:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e)return!1;this.presentationModels.has(e.id)&&o.LOGGER.error("There already is a PM with id "+e.id);var r=!1;if(!this.presentationModels.has(e.id)){if(this.presentationModels.set(e.id,e),this.addPresentationModelByType(e),n)this.clientDolphin.getClientConnector().send(l.default.createCreatePresentationModelCommand(e),null);e.getAttributes().forEach(function(e){t.registerAttribute(e)}),this.modelStoreChangeBus.trigger({eventType:s.ADDED_TYPE,clientPresentationModel:e}),r=!0}return r}},{key:"remove",value:function(e){var t=this;if(!e)return!1;var n=!1;return this.presentationModels.has(e.id)&&(this.removePresentationModelByType(e),this.presentationModels.delete(e.id),e.getAttributes().forEach(function(e){t.removeAttributeById(e),e.getQualifier()&&t.removeAttributeByQualifier(e)}),this.modelStoreChangeBus.trigger({eventType:s.REMOVED_TYPE,clientPresentationModel:e}),n=!0),n}},{key:"findAttributesByFilter",value:function(t){var n=[];return this.presentationModels.forEach(function(e){e.getAttributes().forEach(function(e){t(e)&&n.push(e)})}),n}},{key:"addPresentationModelByType",value:function(e){if(e){var t=e.presentationModelType;if(t){var n=this.presentationModelsPerType.get(t);n||(n=[],this.presentationModelsPerType.set(t,n)),-1<n.indexOf(e)||n.push(e)}}}},{key:"removePresentationModelByType",value:function(e){if(e&&e.presentationModelType){var t=this.presentationModelsPerType.get(e.presentationModelType);t&&(-1<t.length&&t.splice(t.indexOf(e),1),0===t.length&&this.presentationModelsPerType.delete(e.presentationModelType))}}},{key:"listPresentationModelIds",value:function(){for(var e=[],t=this.presentationModels.keys(),n=t.next();!n.done;)e.push(n.value),n=t.next();return e}},{key:"listPresentationModels",value:function(){for(var e=[],t=this.presentationModels.values(),n=t.next();!n.done;)e.push(n.value),n=t.next();return e}},{key:"findPresentationModelById",value:function(e){return this.presentationModels.get(e)}},{key:"findAllPresentationModelByType",value:function(e){return e&&this.presentationModelsPerType.has(e)?this.presentationModelsPerType.get(e).slice(0):[]}},{key:"deletePresentationModel",value:function(e,t){if(e&&this.containsPresentationModel(e.id)){if(this.remove(e),!t||e.clientSideOnly)return;this.clientDolphin.getClientConnector().send(l.default.createPresentationModelDeletedCommand(e.id),null)}}},{key:"containsPresentationModel",value:function(e){return this.presentationModels.has(e)}},{key:"addAttributeById",value:function(e){e&&!this.attributesPerId.has(e.id)&&this.attributesPerId.set(e.id,e)}},{key:"removeAttributeById",value:function(e){e&&this.attributesPerId.has(e.id)&&this.attributesPerId.delete(e.id)}},{key:"findAttributeById",value:function(e){return this.attributesPerId.get(e)}},{key:"addAttributeByQualifier",value:function(e){if(e&&e.getQualifier()){var t=this.attributesPerQualifier.get(e.getQualifier());t||(t=[],this.attributesPerQualifier.set(e.getQualifier(),t)),-1<t.indexOf(e)||t.push(e)}}},{key:"removeAttributeByQualifier",value:function(e){if(e&&e.getQualifier()){var t=this.attributesPerQualifier.get(e.getQualifier());t&&(-1<t.length&&t.splice(t.indexOf(e),1),0===t.length&&this.attributesPerQualifier.delete(e.getQualifier()))}}},{key:"findAllAttributesByQualifier",value:function(e){return e&&this.attributesPerQualifier.has(e)?this.attributesPerQualifier.get(e).slice(0):[]}},{key:"onModelStoreChange",value:function(e){this.modelStoreChangeBus.onEvent(e)}},{key:"onModelStoreChangeForType",value:function(t,n){this.modelStoreChangeBus.onEvent(function(e){e.clientPresentationModel.presentationModelType==t&&n(e)})}}]),o}();(t.default=f).LOGGER=o.LoggerFactory.getLogger("ClientModelStore")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=function e(){(0,i.default)(this,e)};(t.default=a).QUALIFIER_PROPERTY="qualifier",a.VALUE="value"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"transmit",value:function(e,t){t([])}},{key:"signal",value:function(){}},{key:"reset",value:function(){}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(20)),o=u(n(0)),i=u(n(1)),c=n(2),a=n(5);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function u(e){(0,o.default)(this,u),(0,c.checkMethod)("BeanManager(classRepository)"),(0,c.checkParam)(e,"classRepository"),this.classRepository=e,this.addedHandlers=new r.default,this.removedHandlers=new r.default,this.updatedHandlers=new r.default,this.arrayUpdatedHandlers=new r.default,this.allAddedHandlers=[],this.allRemovedHandlers=[],this.allUpdatedHandlers=[],this.allArrayUpdatedHandlers=[],this._handleBeanAdded=this._handleBeanAdded.bind(this),this._handleBeanRemoved=this._handleBeanRemoved.bind(this),this._handleBeanUpdate=this._handleBeanUpdate.bind(this),this._handleArrayUpdate=this._handleArrayUpdate.bind(this),this.classRepository.onBeanAdded(this._handleBeanAdded),this.classRepository.onBeanRemoved(this._handleBeanRemoved),this.classRepository.onBeanUpdate(this._handleBeanUpdate),this.classRepository.onArrayUpdate(this._handleArrayUpdate)}return(0,i.default)(u,[{key:"_handleBeanAdded",value:function(t,n){var e=this.addedHandlers.get(t);(0,c.exists)(e)&&e.forEach(function(e){try{e(n)}catch(e){u.LOGGER.error("An exception occurred while calling an onBeanAdded-handler for type",t,e)}}),this.allAddedHandlers.forEach(function(e){try{e(n)}catch(e){u.LOGGER.error("An exception occurred while calling a general onBeanAdded-handler",e)}})}},{key:"_handleBeanRemoved",value:function(t,n){var e=this.removedHandlers.get(t);(0,c.exists)(e)&&e.forEach(function(e){try{e(n)}catch(e){u.LOGGER.error("An exception occurred while calling an onBeanRemoved-handler for type",t,e)}}),this.allRemovedHandlers.forEach(function(e){try{e(n)}catch(e){u.LOGGER.error("An exception occurred while calling a general onBeanRemoved-handler",e)}})}},{key:"_handleArrayUpdate",value:function(t,n,r,o,i,a){var e=this.arrayUpdatedHandlers.get(t);(0,c.exists)(e)&&e.forEach(function(e){try{e(n,r,o,i,a)}catch(e){u.LOGGER.error("An exception occurred while calling an onArrayUpdate-handler for type",t,e)}}),this.allArrayUpdatedHandlers.forEach(function(e){try{e(n,r,o,i,a)}catch(e){u.LOGGER.error("An exception occurred while calling a general onArrayUpdate-handler",e)}})}},{key:"_handleBeanUpdate",value:function(t,n,r,o,i){var e=this.updatedHandlers.get(t);(0,c.exists)(e)&&e.forEach(function(e){try{e(n,r,o,i)}catch(e){u.LOGGER.error("An exception occurred while calling an onBeanUpdate-handler for type",t,e)}}),this.allUpdatedHandlers.forEach(function(e){try{e(n,r,o,i)}catch(e){u.LOGGER.error("An exception occurred while calling a general onBeanUpdate-handler",e)}})}},{key:"notifyBeanChange",value:function(e,t,n){return(0,c.checkMethod)("BeanManager.notifyBeanChange(bean, propertyName, newValue)"),(0,c.checkParam)(e,"bean"),(0,c.checkParam)(t,"propertyName"),this.classRepository.notifyBeanChange(e,t,n)}},{key:"notifyArrayChange",value:function(e,t,n,r,o){(0,c.checkMethod)("BeanManager.notifyArrayChange(bean, propertyName, index, count, removedElements)"),(0,c.checkParam)(e,"bean"),(0,c.checkParam)(t,"propertyName"),(0,c.checkParam)(n,"index"),(0,c.checkParam)(r,"count"),(0,c.checkParam)(o,"removedElements"),this.classRepository.notifyArrayChange(e,t,n,r,o)}},{key:"isManaged",value:function(e){throw(0,c.checkMethod)("BeanManager.isManaged(bean)"),(0,c.checkParam)(e,"bean"),new Error("Not implemented yet")}},{key:"create",value:function(e){throw(0,c.checkMethod)("BeanManager.create(type)"),(0,c.checkParam)(e,"type"),new Error("Not implemented yet")}},{key:"add",value:function(e,t){throw(0,c.checkMethod)("BeanManager.add(type, bean)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"bean"),new Error("Not implemented yet")}},{key:"addAll",value:function(e,t){throw(0,c.checkMethod)("BeanManager.addAll(type, collection)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"collection"),new Error("Not implemented yet")}},{key:"remove",value:function(e){throw(0,c.checkMethod)("BeanManager.remove(bean)"),(0,c.checkParam)(e,"bean"),new Error("Not implemented yet")}},{key:"removeAll",value:function(e){throw(0,c.checkMethod)("BeanManager.removeAll(collection)"),(0,c.checkParam)(e,"collection"),new Error("Not implemented yet")}},{key:"removeIf",value:function(e){throw(0,c.checkMethod)("BeanManager.removeIf(predicate)"),(0,c.checkParam)(e,"predicate"),new Error("Not implemented yet")}},{key:"onAdded",value:function(t,n){var r=this;if((0,c.exists)(n)){(0,c.checkMethod)("BeanManager.onAdded(type, eventHandler)"),(0,c.checkParam)(t,"type"),(0,c.checkParam)(n,"eventHandler");var e=this.addedHandlers.get(t);return(0,c.exists)(e)||(e=[]),this.addedHandlers.set(t,e.concat(n)),{unsubscribe:function(){var e=r.addedHandlers.get(t);(0,c.exists)(e)&&r.addedHandlers.set(t,e.filter(function(e){return e!==n}))}}}return n=t,(0,c.checkMethod)("BeanManager.onAdded(eventHandler)"),(0,c.checkParam)(n,"eventHandler"),this.allAddedHandlers=this.allAddedHandlers.concat(n),{unsubscribe:function(){r.allAddedHandlers=r.allAddedHandlers.filter(function(e){return e!==n})}}}},{key:"onRemoved",value:function(t,n){var r=this;if((0,c.exists)(n)){(0,c.checkMethod)("BeanManager.onRemoved(type, eventHandler)"),(0,c.checkParam)(t,"type"),(0,c.checkParam)(n,"eventHandler");var e=this.removedHandlers.get(t);return(0,c.exists)(e)||(e=[]),this.removedHandlers.set(t,e.concat(n)),{unsubscribe:function(){var e=r.removedHandlers.get(t);(0,c.exists)(e)&&r.removedHandlers.set(t,e.filter(function(e){return e!==n}))}}}return n=t,(0,c.checkMethod)("BeanManager.onRemoved(eventHandler)"),(0,c.checkParam)(n,"eventHandler"),this.allRemovedHandlers=this.allRemovedHandlers.concat(n),{unsubscribe:function(){r.allRemovedHandlers=r.allRemovedHandlers.filter(function(e){return e!==n})}}}},{key:"onBeanUpdate",value:function(t,n){var r=this;if((0,c.exists)(n)){(0,c.checkMethod)("BeanManager.onBeanUpdate(type, eventHandler)"),(0,c.checkParam)(t,"type"),(0,c.checkParam)(n,"eventHandler");var e=this.updatedHandlers.get(t);return(0,c.exists)(e)||(e=[]),this.updatedHandlers.set(t,e.concat(n)),{unsubscribe:function(){var e=r.updatedHandlers.get(t);(0,c.exists)(e)&&r.updatedHandlers.set(t,e.filter(function(e){return e!==n}))}}}return n=t,(0,c.checkMethod)("BeanManager.onBeanUpdate(eventHandler)"),(0,c.checkParam)(n,"eventHandler"),this.allUpdatedHandlers=this.allUpdatedHandlers.concat(n),{unsubscribe:function(){r.allUpdatedHandlers=r.allUpdatedHandlers.filter(function(e){return e!==n})}}}},{key:"onArrayUpdate",value:function(t,n){var r=this;if((0,c.exists)(n)){(0,c.checkMethod)("BeanManager.onArrayUpdate(type, eventHandler)"),(0,c.checkParam)(t,"type"),(0,c.checkParam)(n,"eventHandler");var e=this.arrayUpdatedHandlers.get(t);return(0,c.exists)(e)||(e=[]),this.arrayUpdatedHandlers.set(t,e.concat(n)),{unsubscribe:function(){var e=r.arrayUpdatedHandlers.get(t);(0,c.exists)(e)&&r.arrayUpdatedHandlers.set(t,e.filter(function(e){return e!==n}))}}}return n=t,(0,c.checkMethod)("BeanManager.onArrayUpdate(eventHandler)"),(0,c.checkParam)(n,"eventHandler"),this.allArrayUpdatedHandlers=this.allArrayUpdatedHandlers.concat(n),{unsubscribe:function(){r.allArrayUpdatedHandlers=r.allArrayUpdatedHandlers.filter(function(e){return e!==n})}}}}]),u}();(t.default=l).LOGGER=a.LoggerFactory.getLogger("BeanManager")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(32)),o=l(n(20)),i=l(n(0)),a=l(n(1)),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(40)),h=n(2),c=n(5);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function f(e){(0,i.default)(this,f),(0,h.checkMethod)("ClassRepository(dolphin)"),(0,h.checkParam)(e,"dolphin"),this.dolphin=e,this.classes=new o.default,this.beanFromDolphin=new o.default,this.beanToDolphin=new o.default,this.classInfos=new o.default,this.beanAddedHandlers=[],this.beanRemovedHandlers=[],this.propertyUpdateHandlers=[],this.arrayUpdateHandlers=[],this.blocked=null}return(0,a.default)(f,[{key:"sendListSplice",value:function(n,e,t,r,o,i){var a=n.dolphin,u=a.findPresentationModelById(e);if((0,h.exists)(u)){var c=n.classes.get(u.presentationModelType)[t];if((0,h.exists)(c)){var l=[a.attribute("@@@ SOURCE_SYSTEM @@@",null,"client"),a.attribute("source",null,e),a.attribute("attribute",null,t),a.attribute("from",null,r),a.attribute("to",null,o),a.attribute("count",null,i.length)];i.forEach(function(e,t){l.push(a.attribute(t.toString(),null,f.toDolphin(n,c,e)))}),a.presentationModel.apply(a,[null,"@DP:LS@"].concat(l))}}}},{key:"validateList",value:function(e,t,n,r){var o=n[r];(0,h.exists)(o)||e.propertyUpdateHandlers.forEach(function(e){try{e(t,n,r,[],void 0)}catch(e){f.LOGGER.error("An exception occurred while calling an onBeanUpdate-handler",e)}})}},{key:"block",value:function(e,t){if((0,h.exists)(this.blocked))throw new Error("Trying to create a block while another block exists");this.blocked={bean:e,propertyName:t}}},{key:"isBlocked",value:function(e,t){return(0,h.exists)(this.blocked)&&this.blocked.bean===e&&this.blocked.propertyName===t}},{key:"unblock",value:function(){this.blocked=null}},{key:"notifyBeanChange",value:function(e,t,n){(0,h.checkMethod)("ClassRepository.notifyBeanChange(bean, propertyName, newValue)"),(0,h.checkParam)(e,"bean"),(0,h.checkParam)(t,"propertyName");var r=this.beanToDolphin.get(e);if((0,h.exists)(r)){var o=this.dolphin.findPresentationModelById(r);if((0,h.exists)(o)){var i=this.classes.get(o.presentationModelType)[t],a=o.findAttributeByPropertyName(t);if((0,h.exists)(i)&&(0,h.exists)(a)){var u=a.getValue();return a.setValue(f.toDolphin(this,i,n)),f.fromDolphin(this,i,u)}}}}},{key:"notifyArrayChange",value:function(e,t,n,r,o){if((0,h.checkMethod)("ClassRepository.notifyArrayChange(bean, propertyName, index, count, removedElements)"),(0,h.checkParam)(e,"bean"),(0,h.checkParam)(t,"propertyName"),(0,h.checkParam)(n,"index"),(0,h.checkParam)(r,"count"),(0,h.checkParam)(o,"removedElements"),!this.isBlocked(e,t)){var i=this.beanToDolphin.get(e),a=e[t];if((0,h.exists)(i)&&(0,h.exists)(a)){var u=Array.isArray(o)?o.length:0;this.sendListSplice(this,i,t,n,n+u,a.slice(n,n+r))}}}},{key:"onBeanAdded",value:function(e){(0,h.checkMethod)("ClassRepository.onBeanAdded(handler)"),(0,h.checkParam)(e,"handler"),this.beanAddedHandlers.push(e)}},{key:"onBeanRemoved",value:function(e){(0,h.checkMethod)("ClassRepository.onBeanRemoved(handler)"),(0,h.checkParam)(e,"handler"),this.beanRemovedHandlers.push(e)}},{key:"onBeanUpdate",value:function(e){(0,h.checkMethod)("ClassRepository.onBeanUpdate(handler)"),(0,h.checkParam)(e,"handler"),this.propertyUpdateHandlers.push(e)}},{key:"onArrayUpdate",value:function(e){(0,h.checkMethod)("ClassRepository.onArrayUpdate(handler)"),(0,h.checkParam)(e,"handler"),this.arrayUpdateHandlers.push(e)}},{key:"registerClass",value:function(e){if((0,h.checkMethod)("ClassRepository.registerClass(model)"),(0,h.checkParam)(e,"model"),!this.classes.has(e.id)){var t={};e.attributes.filter(function(e){return e.propertyName.search(/^@/)<0}).forEach(function(e){t[e.propertyName]=e.value}),this.classes.set(e.id,t)}}},{key:"unregisterClass",value:function(e){(0,h.checkMethod)("ClassRepository.unregisterClass(model)"),(0,h.checkParam)(e,"model"),this.classes.delete(e.id)}},{key:"load",value:function(o){(0,h.checkMethod)("ClassRepository.load(model)"),(0,h.checkParam)(o,"model");var i=this,a=this.classes.get(o.presentationModelType),u={};return o.attributes.filter(function(e){return e.propertyName.search(/^@/)<0}).forEach(function(r){u[r.propertyName]=null,r.onValueChange(function(e){if(e.oldValue!==e.newValue){var t=f.fromDolphin(i,a[r.propertyName],e.oldValue),n=f.fromDolphin(i,a[r.propertyName],e.newValue);i.propertyUpdateHandlers.forEach(function(e){try{e(o.presentationModelType,u,r.propertyName,n,t)}catch(e){f.LOGGER.error("An exception occurred while calling an onBeanUpdate-handler",e)}})}})}),this.beanFromDolphin.set(o.id,u),this.beanToDolphin.set(u,o.id),this.classInfos.set(o.id,a),this.beanAddedHandlers.forEach(function(e){try{e(o.presentationModelType,u)}catch(e){f.LOGGER.error("An exception occurred while calling an onBeanAdded-handler",e)}}),u}},{key:"unload",value:function(t){(0,h.checkMethod)("ClassRepository.unload(model)"),(0,h.checkParam)(t,"model");var n=this.beanFromDolphin.get(t.id);return this.beanFromDolphin.delete(t.id),this.beanToDolphin.delete(n),this.classInfos.delete(t.id),(0,h.exists)(n)&&this.beanRemovedHandlers.forEach(function(e){try{e(t.presentationModelType,n)}catch(e){f.LOGGER.error("An exception occurred while calling an onBeanRemoved-handler",e)}}),n}},{key:"spliceListEntry",value:function(e){(0,h.checkMethod)("ClassRepository.spliceListEntry(model)"),(0,h.checkParam)(e,"model");var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),r=e.findAttributeByPropertyName("from"),o=e.findAttributeByPropertyName("to"),i=e.findAttributeByPropertyName("count");if(!((0,h.exists)(t)&&(0,h.exists)(n)&&(0,h.exists)(r)&&(0,h.exists)(o)&&(0,h.exists)(i)))throw new Error("Invalid list modification update received");var a=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!(0,h.exists)(u)||!(0,h.exists)(a))throw new Error("Invalid list modification update received. Source bean unknown.");var c=e.presentationModelType;this.validateList(this,c,u,n.value);for(var l=[],s=null,d=0;d<i.value;d++){if(s=e.findAttributeByPropertyName(d.toString()),!(0,h.exists)(s))throw new Error("Invalid list modification update received");l.push(f.fromDolphin(this,a[n.value],s.value))}try{this.block(u,n.value),this.arrayUpdateHandlers.forEach(function(e){try{e(c,u,n.value,r.value,o.value-r.value,l)}catch(e){f.LOGGER.error("An exception occurred while calling an onArrayUpdate-handler",e)}})}finally{this.unblock()}}},{key:"mapParamToDolphin",value:function(e){if(!(0,h.exists)(e))return e;var t=void 0===e?"undefined":(0,r.default)(e);if("object"===t){if(e instanceof Date)return e.toISOString();var n=this.beanToDolphin.get(e);if((0,h.exists)(n))return n;throw new TypeError("Only managed remoting beans can be used")}if("string"===t||"number"===t||"boolean"===t)return e;throw new TypeError("Only managed remoting beans and primitive types can be used")}},{key:"mapDolphinToBean",value:function(e){return f.fromDolphin(this,u.REMOTING_BEAN,e)}}]),f}();s.fixType=function(e,t){switch(e){case u.BYTE:case u.SHORT:case u.INT:case u.LONG:return parseInt(t);case u.FLOAT:case u.DOUBLE:return parseFloat(t);case u.BOOLEAN:return"true"===String(t).toLowerCase();case u.STRING:case u.ENUM:return String(t);default:return t}},s.fromDolphin=function(e,t,n){if(!(0,h.exists)(n))return null;switch(t){case u.REMOTING_BEAN:return e.beanFromDolphin.get(String(n));case u.DATE:case u.CALENDAR:case u.LOCAL_DATE_FIELD_TYPE:case u.LOCAL_DATE_TIME_FIELD_TYPE:case u.ZONED_DATE_TIME_FIELD_TYPE:return new Date(String(n));default:return s.fixType(t,n)}},s.toDolphin=function(e,t,n){if(!(0,h.exists)(n))return null;switch(t){case u.REMOTING_BEAN:return e.beanToDolphin.get(n);case u.DATE:case u.CALENDAR:case u.LOCAL_DATE_FIELD_TYPE:case u.LOCAL_DATE_TIME_FIELD_TYPE:case u.ZONED_DATE_TIME_FIELD_TYPE:return n instanceof Date?n.toISOString():n;default:return s.fixType(t,n)}},s.LOGGER=c.LoggerFactory.getLogger("ClassRepository"),t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var d=r(n(19)),o=r(n(58)),i=r(n(0)),a=r(n(1)),f=n(2),l=r(n(204)),h=r(n(41)),v=n(106);function r(e){return e&&e.__esModule?e:{default:e}}var s="controllerId",p="errorCode",u=function(){function r(e,t,n){(0,i.default)(this,r),(0,f.checkMethod)("ControllerManager(dolphin, classRepository, connector)"),(0,f.checkParam)(e,"dolphin"),(0,f.checkParam)(t,"classRepository"),(0,f.checkParam)(n,"connector"),this.dolphin=e,this.classRepository=t,this.connector=n,this.controllers=new o.default}return(0,a.default)(r,[{key:"createController",value:function(e){return this._createController(e,null)}},{key:"_createController",value:function(n,r){(0,f.checkMethod)("ControllerManager.createController(name)"),(0,f.checkParam)(n,"name");var o=this,i=void 0,a=void 0,u=void 0,c=void 0;return new d.default(function(t){o.connector.getHighlanderPM().then(function(e){o.connector.invoke(h.default.createCreateControllerCommand(n,r)).then(function(){i=e.findAttributeByPropertyName(s).getValue(),a=e.findAttributeByPropertyName("model").getValue(),u=o.classRepository.mapDolphinToBean(a),c=new l.default(i,u,o),o.controllers.add(c),t(c)})})})}},{key:"invokeAction",value:function(u,c,l){(0,f.checkMethod)("ControllerManager.invokeAction(controllerId, actionName, params)"),(0,f.checkParam)(u,"controllerId"),(0,f.checkParam)(c,"actionName");var s=this;return new d.default(function(e,t){var n=[s.dolphin.attribute(v.SOURCE_SYSTEM,null,v.SOURCE_SYSTEM_CLIENT),s.dolphin.attribute(p)],r=s.dolphin.presentationModel.apply(s.dolphin,[null,v.ACTION_CALL_BEAN].concat(n)),o=[];if((0,f.exists)(l))for(var i in l)if(l.hasOwnProperty(i)){var a=s.classRepository.mapParamToDolphin(l[i]);o.push({name:i,value:a})}s.connector.invoke(h.default.createCallActionCommand(u,c,o)).then(function(){r.findAttributeByPropertyName(p).getValue()?t(new Error("Server side ControllerAction "+c+" caused an error. Please see server log for details.")):e(),s.dolphin.deletePresentationModel(r)})})}},{key:"destroyController",value:function(n){(0,f.checkMethod)("ControllerManager.destroyController(controller)"),(0,f.checkParam)(n,"controller");var r=this;return new d.default(function(t){r.connector.getHighlanderPM().then(function(e){r.controllers.delete(n),e.findAttributeByPropertyName(s).setValue(n.controllerId),r.connector.invoke(h.default.createDestroyControllerCommand(n.getId())).then(t)})})}},{key:"destroy",value:function(){var e=this.controllers,t=[];return this.controllers=new o.default,e.forEach(function(e){try{t.push(e.destroy())}catch(e){}}),d.default.all(t)}}]),r}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(58)),i=c(n(0)),a=c(n(1)),u=n(2),r=n(5);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function r(e,t,n){(0,i.default)(this,r),(0,u.checkMethod)("ControllerProxy(controllerId, model, manager)"),(0,u.checkParam)(e,"controllerId"),(0,u.checkParam)(t,"model"),(0,u.checkParam)(n,"manager"),this.controllerId=e,this.model=t,this.manager=n,this.destroyed=!1,this.onDestroyedHandlers=new o.default}return(0,a.default)(r,[{key:"getModel",value:function(){return this.model}},{key:"getId",value:function(){return this.controllerId}},{key:"invoke",value:function(e,t){if((0,u.checkMethod)("ControllerProxy.invoke(name, params)"),(0,u.checkParam)(e,"name"),this.destroyed)throw new Error("The controller was already destroyed");return this.manager.invokeAction(this.controllerId,e,t)}},{key:"createController",value:function(e){return this.manager._createController(e,this.getId())}},{key:"destroy",value:function(){var t=this;if(this.destroyed)throw new Error("The controller was already destroyed");return this.destroyed=!0,this.onDestroyedHandlers.forEach(function(e){try{e(t)}catch(e){r.LOGGER.error("An exception occurred while calling an onDestroyed-handler",e)}},this),this.manager.destroyController(this)}},{key:"onDestroyed",value:function(e){(0,u.checkMethod)("ControllerProxy.onDestroyed(handler)"),(0,u.checkParam)(e,"handler");var t=this;return this.onDestroyedHandlers.add(e),{unsubscribe:function(){t.onDestroyedHandlers.delete(e)}}}}]),r}();(t.default=l).LOGGER=r.LoggerFactory.getLogger("ControllerProxy")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(19)),i=l(n(0)),a=l(n(1)),o=l(n(107)),u=l(n(41)),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function o(e,t,n,r){(0,i.default)(this,o),(0,c.checkMethod)("ClientContext(dolphin, beanManager, controllerManager, connector)"),(0,c.checkParam)(e,"dolphin"),(0,c.checkParam)(t,"beanManager"),(0,c.checkParam)(n,"controllerManager"),(0,c.checkParam)(r,"connector"),this.dolphin=e,this.beanManager=t,this._controllerManager=n,this._connector=r,this.connectionPromise=null,this.isConnected=!1}return(0,a.default)(o,[{key:"connect",value:function(){var t=this;return this.connectionPromise=new r.default(function(e){t._connector.connect(),t._connector.invoke(u.default.createCreateContextCommand()).then(function(){t.isConnected=!0,e()})}),this.connectionPromise}},{key:"onConnect",value:function(){return(0,c.exists)(this.connectionPromise)?this.isConnected?new r.default(function(e){e()}):this.connectionPromise:this.connect()}},{key:"createController",value:function(e){return(0,c.checkMethod)("ClientContext.createController(name)"),(0,c.checkParam)(e,"name"),this._controllerManager.createController(e)}},{key:"disconnect",value:function(){var t=this;return this.dolphin.stopPushListening(),new r.default(function(e){t._controllerManager.destroy().then(function(){t._connector.invoke(u.default.createDestroyContextCommand()),t.dolphin=null,t.beanManager=null,t._controllerManager=null,t._connector=null,e()})})}}]),o}();t.default=s,(0,o.default)(s.prototype)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(19)),o=l(n(0)),i=l(n(1)),a=l(n(107)),u=n(2),d=n(207),f=l(n(86)),c=l(n(208)),h=n(5),v=n(6);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function s(e,t,n){(0,o.default)(this,s),this.url=e,this.config=t,this.client=n,this.headersInfo=(0,u.exists)(t)?t.headersInfo:null,this.failed_attempt=0;var r=this._connectionConfig();this.maxRetry=(0,u.exists)(r)&&(0,u.exists)(r.maxRetry)?r.maxRetry:3,this.timeout=(0,u.exists)(r)&&(0,u.exists)(r.timeout)?r.timeout:5e3}return(0,i.default)(s,[{key:"_connectionConfig",value:function(){return(0,u.exists)(this.config)?this.config.connection:null}},{key:"_handleError",value:function(e,t){var n=this._connectionConfig();((0,u.exists)(n)&&(0,u.exists)(n.errorHandlers)?n.errorHandlers:[new c.default]).forEach(function(e){e.onError(t)}),e(t)}},{key:"_send",value:function(u){var c=this,l=this;return new r.default(function(t,n){if(c.client){var e=f.default.encode(u);if(s.LOGGER.isLogLevelUseable(h.LogLevel.DEBUG)&&!s.LOGGER.isLogLevelUseable(h.LogLevel.TRACE))for(var r=0;r<u.length;r++){var o=u[r];o.id===v.VALUE_CHANGED_COMMAND_ID&&s.LOGGER.debug("send",o,e)}var i=1===u.length&&u[0].id===v.START_LONG_POLL_COMMAND_ID,a=c.client.getService("HttpClient");a&&l.failed_attempt<=l.maxRetry?a.post(l.url).withHeadersInfo(c.headersInfo).withContent(e).readString().execute(i).then(function(e){t(e.content)}).catch(function(e){var t=e.getStatus();l.failed_attempt+=1,408===t?l._handleError(n,new d.DolphinSessionError("PlatformHttpTransmitter: Session Timeout")):l._handleError(n,e)}):s.LOGGER.error("Cannot reach the sever")}else s.LOGGER.error("No Rico client found!")})}},{key:"transmit",value:function(e,n){var r=this;this._send(e).then(function(t){if(0<t.trim().length)try{var e=f.default.decode(t);n(e)}catch(e){r.emit("error",new d.DolphinRemotingError("PlatformHttpTransmitter: Parse error: (Incorrect response = "+t+")")),n([])}else r.emit("error",new d.DolphinRemotingError("PlatformHttpTransmitter: Empty response")),n([])}).catch(function(e){r.emit("error",e),n([])})}},{key:"signal",value:function(e){var t=this;this._send([e]).catch(function(e){return t.emit("error",e)})}}]),s}();(t.default=s).LOGGER=h.LoggerFactory.getLogger("PlatformHttpTransmitter"),(0,a.default)(s.prototype)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpNetworkError=t.HttpResponseError=t.DolphinSessionError=t.DolphinRemotingError=void 0;var o=r(n(102)),i=r(n(0)),a=r(n(103)),u=r(n(104));function r(e){return e&&e.__esModule?e:{default:e}}t.DolphinRemotingError=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Remoting Error",t=arguments[1];(0,i.default)(this,r);var n=(0,a.default)(this,(r.__proto__||(0,o.default)(r)).call(this,e));return n.detail=t||void 0,n}return(0,u.default)(r,e),r}(Error),t.DolphinSessionError=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Session Error";return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),t}(Error),t.HttpResponseError=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Http Response Error";return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),t}(Error),t.HttpNetworkError=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Http Network Error";return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),t}(Error)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(1)),i=n(5);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"onError",value:function(e){t.LOGGER.error(e)}}]),t}();(t.default=u).LOGGER=i.LoggerFactory.getLogger("RemotingErrorHandler")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;var r=n(31),o=n(2),i=n(210);t.register=function(e){if((0,o.exists)(e)){var t=new r.ServiceProvider(i.KeycloakSecurity,"Security",e);e.registerServiceProvider(t)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.KeycloakSecurity=void 0;var v=s(n(19)),r=s(n(0)),o=s(n(1)),i=n(5),a=n(2),u=n(211),c=n(213),l=n(14);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){function h(){(0,r.default)(this,h),this.functions=new u.KeycloakFunctions,this.interceptor=new c.SecurityHttpClientInterceptor,this.intervall=null,this.configuration={directConnection:!1,authEndpoint:l.SECURITY.AUTH_ENDPOINT,appName:null,realmName:null}}return(0,o.default)(h,[{key:"login",value:function(e,t,n){var i=this;if(this.isAuthorized())throw new Error("Already logged in!");n&&(this.configuration.directConnection=n.directConnection||this.configuration.directConnection,this.configuration.authEndpoint=n.authEndpoint||this.configuration.authEndpoint,this.configuration.appName=n.appName||this.configuration.appName,this.configuration.realmName=n.realmName||this.configuration.realmName);var r=this.configuration,a=r.directConnection,u=r.authEndpoint,c=r.appName,l=r.realmName,o=this.functions.createLoginConnection(a,u,l,c,e,t),s=o.connection,d=o.content,f=this;return new v.default(function(r,o){h.LOGGER.debug("Receiving access token"),i.functions.receiveToken(s,d).then(function(e){if(e&&e.access_token){f.token=e,i.interceptor.setToken(e.access_token),i.interceptor.setRealm(l),i.interceptor.setAppName(c);var t=e.expires_in||h.MIN_TOKEN_EXPIRES_RUN,n=Math.max(h.MIN_TOKEN_EXPIRES_RUN,t-h.TOKEN_EXPIRES_DELTA);f.intervall=setInterval(function(){h.LOGGER.debug("Refreshing access token"),f.functions.refreshToken(a,u,l,c,e.refresh_token).then(function(e){f.token=e,f.interceptor.setToken(e.access_token)})},n),r(e.access_token)}else o("No access token found")}).catch(function(e){return o(e)})})}},{key:"logout",value:function(){var t=this,n=this;return h.LOGGER.debug("Logout"),new v.default(function(e){delete n.token,n.interceptor.setToken(null),(0,a.exists)(t.intervall)&&(clearInterval(t.intervall),t.intervall=null),e()})}},{key:"isAuthorized",value:function(){return(0,a.exists)(this.token)}},{key:"initServiceProvider",value:function(e){(0,a.checkMethod)("initServiceProvider"),(0,a.checkParam)(e,"client"),e.getService("HttpClientInterceptor").addRequestInterceptor(this.interceptor)}}]),h}();d.TOKEN_EXPIRES_DELTA=1e4,d.MIN_TOKEN_EXPIRES_RUN=3e4,d.LOGGER=i.LoggerFactory.getLogger("KeycloakSecurity"),t.KeycloakSecurity=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.KeycloakFunctions=void 0;var i=l(n(19)),r=l(n(0)),a=l(n(1)),u=n(14),d=n(2),o=n(5),c=n(212);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function o(){(0,r.default)(this,o),this.connection=new c.KeycloakConnection}return(0,a.default)(o,[{key:"createLoginConnection",value:function(e,t,n,r,o,i){var a=void 0,u=void 0,c=encodeURIComponent(o),l=encodeURIComponent(i),s=encodeURIComponent(r);if(e){if(!(0,d.exists)(r))throw Error("No app name set!");a=this.connection.createDirectConnection(t,n),u="client_id="+s+"&username="+c+"&password="+l+"&grant_type=password"}else a=this.connection.createServerProxyConnection(t,n),u="username="+c+"&password="+l+"&grant_type=password";return{connection:a,content:u}}},{key:"createRefreshConnection",value:function(e,t,n,r,o){var i=void 0,a=void 0,u=encodeURIComponent(r);if(e){if(!(0,d.exists)(r))throw Error("No app name set!");i=this.connection.createDirectConnection(t,n),a="grant_type=refresh_token&refresh_token="+o+"&client_id="+u}else i=this.connection.createServerProxyConnection(t,n),a="grant_type=refresh_token&refresh_token="+o;return{connection:i,content:a}}},{key:"receiveToken",value:function(n,r){return new i.default(function(e,t){n.ontimeout=function(e){t(e)},n.onerror=function(e){t(e)},n.onreadystatechange=function(){this.readyState===u.HTTP.XMLHTTPREQUEST_READYSTATE.DONE&&this.status===u.HTTP.STATUS.OK?e(this.response):this.readyState===u.HTTP.XMLHTTPREQUEST_READYSTATE.DONE&&this.status!==u.HTTP.STATUS.OK&&t(this.status)},o.LOGGER.trace("Receiving token"),n.send(r)})}},{key:"refreshToken",value:function(e,t,n,r,o){var i=this.createRefreshConnection(e,t,n,r,o),a=i.connection,u=i.content;return this.receiveToken(a,u)}}]),o}();s.LOGGER=o.LoggerFactory.getLogger("KeycloakFunctions"),t.KeycloakFunctions=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.KeycloakConnection=void 0;var r=u(n(0)),o=u(n(1)),i=n(2),a=n(14);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"createDirectConnection",value:function(e,t){(0,i.checkMethod)("createDirectConnection"),(0,i.checkParam)(e,"authEndpoint"),(0,i.checkParam)(t,"realmName");var n=new XMLHttpRequest;return n.open(a.HTTP.METHOD.POST,e+"/auth/realms/"+t+"/protocol/openid-connect/token",!0),n.setRequestHeader(a.HTTP.HEADER_NAME.CONTENT_TYPE,a.HTTP.CONTENT_TYPE.APPLICATION_X_WWW_FORM_URLENCODED),n.responseType=a.RESPONSE_TYPE.JSON,n}},{key:"createServerProxyConnection",value:function(e,t){(0,i.checkMethod)("createServerProxyConnection"),(0,i.checkParam)(e,"authEndpoint");var n=new XMLHttpRequest;return n.open(a.HTTP.METHOD.POST,e,!0),n.setRequestHeader(a.HTTP.HEADER_NAME.CONTENT_TYPE,a.HTTP.CONTENT_TYPE.TEXT_PLAIN),(0,i.exists)(t)&&n.setRequestHeader(a.HTTP.HEADER_NAME.X_PLATFORM_SECURITY_REALM,t),n.responseType=a.RESPONSE_TYPE.JSON,n}}]),e}();t.KeycloakConnection=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityHttpClientInterceptor=void 0;var r=c(n(0)),o=c(n(1)),i=n(2),a=n(5),u=n(14);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(){(0,r.default)(this,t),this.token=null,this.appName=null,this.realm=null}return(0,o.default)(t,[{key:"setToken",value:function(e){this.token=e}},{key:"setAppName",value:function(e){this.appName=e}},{key:"setRealm",value:function(e){this.realm=e}},{key:"handleRequest",value:function(e){(0,i.checkMethod)("handleRequest"),(0,i.checkParam)(e,"httpRequest"),(0,i.exists)(this.token)&&(t.LOGGER.trace("Using token",this.token),e.setRequestHeader(u.HTTP.HEADER_NAME.AUTHORIZATION,"Bearer "+this.token)),(0,i.exists)(this.appName)&&(t.LOGGER.trace("Using appName",this.appName),e.setRequestHeader(u.HTTP.HEADER_NAME.X_PLATFORM_SECURITY_APPLICATION,this.appName)),(0,i.exists)(this.realm)&&(t.LOGGER.trace("Using realm",this.realm),e.setRequestHeader(u.HTTP.HEADER_NAME.X_PLATFORM_SECURITY_REALM,this.realm)),e.setRequestHeader(u.HTTP.HEADER_NAME.X_PLATFORM_SECURITY_BEARER_ONLY,"true")}}]),t}();l.LOGGER=a.LoggerFactory.getLogger("SecurityHttpClientInterceptor"),t.SecurityHttpClientInterceptor=l}])},"object"===(void 0===n?"undefined":oe(n))&&"object"===(void 0===t?"undefined":oe(t))?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"===(void 0===n?"undefined":oe(n))?n.client=o():r.client=o()},{}],2:[function(e,t,n){"use strict";var r=e("../bower_components/rico-js/dist/rico.js");angular.module("Rico",[]),angular.module("Rico").provider("$ricoConfig",[function(){var t={};this.configure=function(e){t=e},this.$get=function(){return t}}]),angular.module("Rico").factory("logger",function(){return r.LoggerFactory.getLogger("Rico")}),angular.module("Rico").factory("clientContextFactory",function(){return r.getService("ClientContextFactory")}),angular.module("Rico").factory("vanillaClientContext",["clientContextFactory","$ricoConfig",function(e,t){return e.create(t.REMOTING_URL,t)}]),angular.module("Rico").factory("handlerCache",["$cacheFactory",function(e){return e("handlers")}]),angular.module("Rico").factory("modelBinding",["$rootScope","$timeout","vanillaClientContext","handlerCache","logger",function(c,e,o,a,l){c.waitingForGlobalApply=!1,c.applyInAngular=function(){c.waitingForGlobalApply||(c.waitingForGlobalApply=!0,e(function(){c.waitingForGlobalApply=!1,l.debug("Creating Rico controller"),c.$apply()},100))};var s={injectArray:function(e,t,n){e.splice.apply(e,[t,0].concat(n))},exists:function(e){return null!=e},deepEqual:function(e,t){if(e===t||!this.exists(e)&&!this.exists(t))return!0;if(this.exists(e)!==this.exists(t))return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0},init:function(e){var t=[],n=e.onAdded(s.onBeanAddedHandler);t.push(n);var r=e.onRemoved(s.onBeanRemovedHandler);t.push(r);var o=e.onBeanUpdate(s.onBeanUpdateHandler);t.push(o);var i=e.onArrayUpdate(s.onArrayUpdateHandler);t.push(i),a.put("handlers",t),l.debug("Rico remoting model binding listeners for Angular registered")},watchAttribute:function(n,r){l.debug("Added Angular listener for property "+r+" of bean "+JSON.stringify(n)),c.$watch(function(){return n[r]},function(e,t){l.debug("Value "+r+" of bean "+JSON.stringify(n)+" changed from "+t+" to "+e),o.beanManager.classRepository.notifyBeanChange(n,r,e)})},onBeanAddedHandler:function(e){for(var t in l.debug("Bean "+JSON.stringify(e)+" added"),e)s.watchAttribute(e,t);c.applyInAngular()},onBeanRemovedHandler:function(e){l.debug("Bean "+JSON.stringify(e)+" removed"),c.applyInAngular()},onBeanUpdateHandler:function(e,t,n,r){var o=!0;for(var i in e)i===t&&(o=!1);o&&(l.debug("Value "+t+" was added to bean "+JSON.stringify(e)),s.watchAttribute(e,t)),r!==n?(l.debug("Bean update for property "+t+' with new value "'+n+'"'),e[t]=n,c.applyInAngular()):l.debug("Received bean update for property "+t+" without any change")},onArrayUpdateHandler:function(e,t,n,r,o){var i=e[t],a=i.slice(n,n+r);if(!s.deepEqual(o,a))if(l.debug("Array update for property "+t+" starting at index "+n+" with "+JSON.stringify(o)),void 0===o||o&&0===o.length)i.splice(n,r),c.applyInAngular();else{for(e in s.injectArray(i,n,o),o)for(var u in e)s.watchAttribute(e,u);c.applyInAngular()}}};return l.debug("Rico remoting model binding created"),s}]),angular.module("Rico").factory("clientContext",["vanillaClientContext","modelBinding","$window","handlerCache","logger",function(e,t,n,r,o){var i={createController:function(t,n){return e.createController(n).then(function(e){return o.debug("Creating Rico remoting controller proxy "+n),t.$on("$destroy",function(){o.debug("Destroying Rico remoting controller proxy "+n),e.destroy()}),t.model=e.model,e})},disconnect:function(){e.disconnect().then(function(){o.debug("Rico remoting context disconnected");for(var e=r.get("handlers"),t=0;t<e.length;t++){e[t].unsubscribe()}r.remove("handlers")})},connect:function(){e.connect().then(function(){o.debug("Rico remoting context connected")})},onConnect:function(){return e.onConnect().then(function(){o.debug("Rico remoting context connected")})}};return t.init(e.beanManager),n.onbeforeunload=i.disconnect,o.debug("Rico remoting context created"),i}])},{"../bower_components/rico-js/dist/rico.js":1}]},{},[2]);
//# sourceMappingURL=rico-angular.min.js.map
